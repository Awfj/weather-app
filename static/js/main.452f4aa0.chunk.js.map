{"version":3,"sources":["components/Spinner/Spinner.module.scss","providers/WindowWidthProvider.tsx","constants.tsx","actions/index.tsx","reducers/reduceSettings.tsx","providers/SettingsProvider.tsx","components/ListItemLink/ListItemLink.tsx","hooks/useWindowWidth.tsx","hooks/useBreakpoints.tsx","hooks/useSettings.tsx","hooks/useDrawer.tsx","utils.tsx","components/DrawerButton/DrawerButton.tsx","components/AppDrawer/AppDrawer.tsx","hooks/useTheme.tsx","components/ThemeToggle/ThemeToggle.tsx","components/ToolbarButtons/ToolbarButtons.tsx","components/AppHeader/AppHeader.tsx","components/Spinner/Spinner.tsx","components/Error/Error.tsx","components/DataLoader/DataLoader.tsx","containers/Welcome/Welcome.tsx","components/Temperature/Temperature.tsx","components/CurrentWeather/CurrentWeather.tsx","components/Favor/Favor.tsx","hooks/useTimer.tsx","components/Timer/Timer.tsx","components/Refresh/Refresh.tsx","hooks/useRefresh.tsx","containers/Forecast/Forecast.tsx","components/Form/Form.tsx","components/InputButton/InputButton.tsx","components/SearchButton/SearchButton.tsx","components/InputField/InputField.tsx","components/SearchField/SearchField.tsx","components/Search/Search.tsx","reducers/reduceFetch.tsx","hooks/useFetch.tsx","hooks/useWeatherApi.tsx","containers/FrontPage/FrontPage.tsx","components/LinkBox/LinkBox.tsx","components/WeatherBox/WeatherBox.tsx","components/LaunchLocation/LaunchLocation.tsx","components/AddLocationBox/AddLocationBox.tsx","components/FavoriteLocation/FavoriteLocation.tsx","containers/Favorites/Favorites.tsx","components/Setting/Setting.tsx","components/LaunchLocationSetting/LaunchLocationSetting.tsx","containers/Settings/Settings.tsx","hooks/useGeoLocationApi.tsx","components/AppContent/AppContent.tsx","components/Page/Page.tsx","theme.tsx","containers/App/App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","WindowWidthContext","createContext","WindowWidthProvider","children","useState","window","innerWidth","width","setWidth","useEffect","handleResize","addEventListener","removeEventListener","Provider","value","APP_STRUCTURE","INTERACTIVE_ACTIONS","LOCAL_STORAGE","SETTINGS","favorites","isDrawerOpen","isThemeDark","lastLocation","drawerIconWidth","toolbarHeightMin","listItemIconMinWidth","FETCH_INIT","FETCH_SUCCESS","FETCH_FAILURE","OPEN_DRAWER","CLOSE_DRAWER","TURN_ON_DARK_THEME","TURN_OFF_DARK_THEME","ADD_TO_FAVORITES","REMOVE_FROM_FAVORITES","SET_LAST_LOCATION","reduceSettings","state","action","type","location","filter","SettingsContext","SettingsDispatchContext","SettingsProvider","useReducer","settings","dispatch","useStyles","makeStyles","theme","createStyles","root","borderLeft","active","borderColor","palette","secondary","main","ListItemLink","icon","primary","to","classes","renderLink","React","useMemo","forwardRef","itemProps","ref","activeClassName","ListItem","button","component","className","ListItemIcon","ListItemText","useWindowWidth","useContext","useBreakpoints","breakpoint","breakpoints","useTheme","values","useSettings","useDrawer","doesDrawerFit","openDrawer","useCallback","closeDrawer","toggleDrawer","localStorage","setItem","String","adjustDrawer","capitalizeFirstChar","string","toUpperCase","slice","checkIfExpired","requestTime","Date","getTime","fetchLocation","a","fetch","response","ok","json","data","city","toLowerCase","console","error","fetchForecast","queriedCity","process","url","updatedUrl","forecast","currentWeather","name","condition","weather","country","sys","temperature","Math","round","temp","cloudiness","clouds","all","windSpeed","wind","speed","pressure","humidity","storeWeather","getLaunchLocation","launchLocation","removeExpiredWeather","key","includes","JSON","parse","removeItem","sliceSplittedString","separator","beginIndex","endIndex","split","join","stringify","backgroundColor","background","paper","alignSelf","display","minHeight","toggle","close","DrawerButton","other","handleClick","label","Tooltip","title","IconButton","aria-label","color","onClick","flexShrink","whiteSpace","down","minWidth","paddingLeft","paddingRight","isOpen","up","transition","transitions","create","easing","sharp","duration","enteringScreen","isClosed","leavingScreen","overflowX","toolbar","justifyContent","list","height","flexDirection","top","AppDrawer","storedDrawer","getItem","handleClose","drawerVariant","undefined","styledDrawer","clsx","styledPaper","Drawer","onClose","variant","open","Divider","List","disablePadding","prefersDarkTheme","useMediaQuery","noSsr","turnOnDarkTheme","turnOffDarkTheme","toggleTheme","adjustTheme","ThemeToggle","marginRight","spacing","ToolbarButtons","refresh","favor","zIndex","drawer","fontSize","flexGrow","marginLeft","AppHeader","heading","search","AppBar","Toolbar","disableGutters","Typography","textIndent","overflow","borderRadius","margin","Spinner","styles","errorBorder","padding","boxShadow","contrastText","Error","errorStyles","disableErrorBorder","DataLoader","rendered","spinnerStyles","isLoading","errorMessage","isError","displayContent","marginTop","Welcome","fontWeight","position","letterSpacing","lineHeight","right","Temperature","textAlign","maxWidth","marginBottom","flexWrap","scales","border","CurrentWeather","timer","Favor","isFavorite","setIsFavorite","useTimer","expirationTimeframe","setRefreshIsDisabled","setTimer","timerTimeout","setTimeout","clearTimeout","Timer","currentYear","getFullYear","requestYear","time","toTimeString","date","toDateString","currentDay","getDate","requestDay","getReadableRequestTime","milliseconds","hours","floor","minutes","getRemainingTime","Refresh","defaultProps","useRefresh","isDataFetched","refreshIsDisabled","disabled","Forecast","getForecast","light","Form","onSubmit","InputButton","SearchButton","InputField","onBlur","onChange","placeholder","SearchField","setSearchQuery","event","query","currentTarget","transform","Search","getData","searchQuery","searchIsShown","setSearchIsShown","showSearchBtn","useRef","searchFieldRef","isUIMd","handleSubmit","preventDefault","trim","current","focus","composeSearch","reduceFetch","useFetch","useWeatherApi","storedForecast","FrontPage","outline","text","grey","link","box","LinkBox","tooltip","linkStyles","boxStyles","extra","group","paddingBottom","spinner","common","white","WeatherBox","alignItems","LaunchLocation","AddLocationBox","FavoritePlace","Favorites","length","map","FavoriteLocation","Setting","LaunchLocationSetting","dispatchFetch","dispatchSettings","reset","Settings","useGeoLocationApi","setLocations","AppMain","path","Page","AppContent","baseTheme","pallete","blue","props","MuiAppBar","elevation","MuiButtonBase","disableRipple","overrides","MuiDrawer","paperAnchorDockedLeft","borderRight","MuiIconButton","MuiListItem","gutters","MuiListItemIcon","MuiSvgIcon","MuiToolbar","dense","MuiTooltip","typography","h1","h2","h3","factor","shape","lightTheme","createMuiTheme","hover","selected","default","darkTheme","GlobalCss","withStyles","App","storedTheme","StylesProvider","injectFirst","ThemeProvider","CssBaseline","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"oGACAA,EAAOC,QAAU,CAAC,KAAO,sBAAsB,MAAQ,uBAAuB,MAAQ,yB,4ICKzEC,EAAqBC,wBAAc,GAoBjCC,EAlBa,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,SAAsB,EACzBC,mBAASC,OAAOC,YADS,mBAC5CC,EAD4C,KACrCC,EADqC,KAWnD,OARAC,qBAAU,WACR,IAAMC,EAAe,kBAAMF,EAASH,OAAOC,aAE3C,OADAD,OAAOM,iBAAiB,SAAUD,GAC3B,WACLL,OAAOO,oBAAoB,SAAUF,MAEtC,IAGD,kBAACV,EAAmBa,SAApB,CAA6BC,MAAOP,GACjCJ,ICZMY,EAED,WAFCA,EAGA,YAHAA,EAID,WAGCC,EAEJ,QAFIA,EAGH,SAGGC,EACG,eADHA,EAEE,cAFFA,EAIK,kBAGLC,EAAsB,CACjCC,UAAW,GACXC,cAAc,EACdC,aAAa,EACbC,aAAc,MAeHC,EAAe,eATS,OAST,kBARM,SAQN,KACfC,EAAgB,eALC,OAKD,cAHC,GAGD,QAChBC,EAAoB,eAVC,SAUD,S,eClDpBC,EAAa,aAGbC,EAAgB,gBAGhBC,EAAgB,gBAGhBC,EAAc,cAGdC,EAAe,eAGfC,EAAqB,qBAGrBC,EAAsB,sBAGtBC,EAAmB,mBAGnBC,EAAwB,wBAGxBC,EAAoB,oB,ykBC6ClBC,MApDf,SAAwBC,EAAkBC,GACxC,OAAQA,EAAOC,MACb,KAAKV,EACH,OAAO,EAAP,GACKQ,EADL,CAEEjB,cAAc,IAGlB,KAAKU,EACH,OAAO,EAAP,GACKO,EADL,CAEEjB,cAAc,IAGlB,KAAKW,EACH,OAAO,EAAP,GACKM,EADL,CAEEhB,aAAa,IAGjB,KAAKW,EACH,OAAO,EAAP,GACKK,EADL,CAEEhB,aAAa,IAGjB,KAAKc,EACH,OAAO,EAAP,GACKE,EADL,CAEEf,aAAcgB,EAAOhB,eAGzB,KAAKW,EACH,OAAO,EAAP,GACKI,EADL,CAEElB,UAAU,GAAD,mBAAMkB,EAAMlB,WAAZ,CAAuBmB,EAAOE,aAG3C,KAAKN,EACH,OAAO,EAAP,GACKG,EADL,CAEElB,UAAU,YACLkB,EAAMlB,UAAUsB,QAAO,SAAAD,GAAQ,OAAIF,EAAOE,WAAaA,QAIhE,QACE,OAAOH,IC3DAK,EAAkBzC,wBAAciB,GAChCyB,EAA0B1C,yBACrC,eAea2C,EAZU,SAAC,GAAyB,IAAvBzC,EAAsB,EAAtBA,SAAsB,EACnB0C,qBAAWT,EAAgBlB,GADR,mBACzC4B,EADyC,KAC/BC,EAD+B,KAGhD,OACE,kBAACJ,EAAwB9B,SAAzB,CAAkCC,MAAOiC,GACvC,kBAACL,EAAgB7B,SAAjB,CAA0BC,MAAOgC,GAC9B3C,K,0LCPH6C,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAM,CACJC,WAAW,GAAD,OJ0BuB,WI1BvB,uBAEZC,OAAQ,CACNC,YAAaL,EAAMM,QAAQC,UAAUC,WAmC5BC,GAxBM,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,KAAMC,EAAyB,EAAzBA,QAASC,EAAgB,EAAhBA,GAC/BC,EAAUf,KACVgB,EAAaC,IAAMC,SACvB,kBACED,IAAME,YAA6C,SAACC,EAAWC,GAAZ,OACjD,kBAAC,IAAD,eACEP,GAAE,WAAMA,GACRO,IAAKA,EACLC,gBAAiBP,EAAQT,QACrBc,SAGV,CAACN,EAAIC,EAAQT,SAEf,OACE,4BACE,kBAACiB,GAAA,EAAD,CAAUC,QAAM,EAACC,UAAWT,EAAYU,UAAWX,EAAQX,MACxDQ,EAAO,kBAACe,GAAA,EAAD,KAAef,GAAuB,KAC9C,kBAACgB,GAAA,EAAD,CAAcf,QAASA,O,6EC1ChBgB,GAFQ,kBAAMC,qBAAW9E,ICOzB+E,GAPQ,SAACC,GACtB,IAAMC,EAAcC,eAAWD,YAAYE,OAG3C,OAFoBN,MACaI,EAAYD,ICMhCI,GANK,WAGlB,MAAO,CAFUN,qBAAWpC,GACXoC,qBAAWnC,KCkCf0C,GApCG,WAChB,IAAMC,EAAgBP,GR6BS,MQ9BT,EAEeK,KAFf,mBAEbhE,EAFa,KAEbA,aAAgB2B,EAFH,KAIhBwC,EAAaC,uBAAY,WAC7BzC,EAAS,CAAER,KAAMV,MAChB,CAACkB,IAEE0C,EAAcD,uBAAY,WAC9BzC,EAAS,CAAER,KAAMT,MAChB,CAACiB,IAEE2C,EAAeF,uBAAY,WAC3BF,GACFK,aAAaC,QAAQ3E,EAA4B4E,QAAQzE,IAE3DA,EAAeqE,IAAgBF,MAC9B,CAACnE,EAAckE,EAAeC,EAAYE,IAEvCK,EAAeN,uBACnB,SAACpE,GACCA,EAAemE,IAAeE,MAEhC,CAACF,EAAYE,IAGf,MAAO,CACLH,gBACAlE,eACA0E,eACAJ,eACAH,aACAE,gB,6BCnCSM,GAAsB,SAACC,GAClC,MAAM,GAAN,OAAUA,EAAO,GAAGC,eAApB,OAAoCD,EAAOE,MAAM,KAGtCC,GAAiB,SAACC,GAG7B,OAFoB,IAAIC,MAAOC,UACCF,ETDE,MSKvBG,GAAa,yCAAG,iCAAAC,EAAA,+EAEFC,MAAM,uCAFJ,WAEnBC,EAFmB,QAGXC,GAHW,yCAGA,MAHA,uBAIYD,EAASE,OAJrB,cAInBC,EAJmB,OAKnBC,EAAOD,EAAKC,KAAKC,cALE,kBAMlBD,GANkB,yCAQzBE,QAAQC,MAAM,sDAAd,MARyB,kBASlB,MATkB,0DAAH,qDAabC,GAAa,yCAAG,WAAOC,GAAP,wBAAAX,EAAA,sEAEEY,mCACrBC,EAHmB,4DAGwCF,GAC3DG,EAJmB,UAIHD,EAJG,kBAEED,mCAFF,0BAKFX,MAAMa,GALJ,WAKnBZ,EALmB,QAMXC,GANW,yCAMA,MANA,wBAOeD,EAASE,OAPxB,eAOnBC,EAPmB,OASnBU,EAAsB,CAC1BC,eAAgB,CACdV,KAAMD,EAAKY,KACXC,UAAWb,EAAKc,QAAQ,GAAGjE,KAC3BkE,QAASf,EAAKgB,IAAID,QAClBE,YAAaC,KAAKC,MAAMnB,EAAKnD,KAAKuE,MAClCC,WAAYrB,EAAKsB,OAAOC,IACxBC,UAAWxB,EAAKyB,KAAKC,MACrBC,SAAU3B,EAAKnD,KAAK8E,SACpBC,SAAU5B,EAAKnD,KAAK+E,UAEtBrC,aAAa,IAAIC,MAAOC,WAE1BoC,GAAavB,EAAaI,GAtBD,kBAuBlBA,GAvBkB,yCAyBzBP,QAAQC,MAAM,sDAAd,MAzByB,kBA0BlB,MA1BkB,0DAAH,sDAkCb0B,GAAiB,yCAAG,6BAAAnC,EAAA,sEACFD,KADE,UACzBqC,EADyB,gDAEH,MAFG,cAG/BjD,aAAaC,QAAQ,kBAAmBgD,GAHT,kBAIxBA,GAJwB,2CAAH,qDA8CjBC,GAAuB,SAAC/B,GACnC,IAAK,IAAIgC,KAAOnD,aACd,GAAImD,EAAIC,SAAS,aAAeD,EAAIC,SAASjC,GAAO,CAClD,IAAMV,EAAsB4C,KAAKC,MAAMtD,aAAamD,IAAM1C,YACtDD,GAAeC,IACjBT,aAAauD,WAAWJ,KAMnBK,GAAsB,SACjCnD,EACAoD,EACAC,EACAC,GAEA,OAAOtD,EACJuD,MAAMH,GACNlD,MAAMmD,EAAYC,GAClBE,KAAKJ,IAGGV,GAAe,SAAC5B,EAAca,GACzChC,aAAaC,QAAb,2BAAyCkB,GAAQkC,KAAKS,UAAU9B,KClH5D3E,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAM,CACJsG,gBAAiBxG,EAAMM,QAAQmG,WAAWC,MAC1CC,UAAW,UACXC,QAAS,OACTvJ,MAAOgB,EACPwI,UAAWvI,GAEbgD,OAAQ,CACNjE,MAAO,aAULyJ,GAAkBhJ,EAAViJ,GAAUjJ,EAwCXkJ,GAtCM,SAAC,GAA0C,IAAD,IAAvC5H,cAAuC,MAA9B0H,GAA8B,EAAnBG,EAAmB,2BACvDpG,EAAUf,KAD6C,EAEvBqC,KAA9BK,EAFqD,EAErDA,aAAcD,EAFuC,EAEvCA,YAElB2E,EAAc1E,EACd2E,EAAQ,UACRzG,EAAO,kBAAC,KAAD,MAEX,OAAQtB,GACN,KAAK0H,GACHK,EAAQtE,GAAoBiE,IAAUK,EACtC,MAEF,KAAKJ,GACHI,EAAQtE,GAAoBkE,IAASI,EACrCD,EAAc3E,EACd7B,EAAO,kBAAC,KAAD,MAKX,OACE,yBAAKc,UAAWX,EAAQX,MACtB,kBAACkH,GAAA,EAAD,CAASC,MAAOF,GACd,kBAACG,GAAA,EAAD,eACEC,aAAYJ,EACZK,MAAM,UACN3G,QAAS,CAAEX,KAAMW,EAAQS,QACzBmG,QAASP,GACLD,GAEHvG,MCxCLZ,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAM,CACJ7C,MAJe,QAKfqK,WAAY,EACZC,WAAY,SACZ,0BAA0B,eACvB3H,EAAM+B,YAAY6F,KAAK,MAAQ,CAC9BC,SAAS,QAAD,OAAUtJ,EAAV,gBAGZ,yBAA0B,CACxBuJ,YAAY,QAAD,OXFkB,OWElB,cXAoB,WWApB,KACXC,aAAa,QAAD,OXHiB,OWGjB,cAGhBC,OAAO,eACJhI,EAAM+B,YAAYkG,GXVQ,MWUgB,CACzCC,WAAYlI,EAAMmI,YAAYC,OAAO,QAAS,CAC5CC,OAAQrI,EAAMmI,YAAYE,OAAOC,MACjCC,SAAUvI,EAAMmI,YAAYI,SAASC,iBAEvCnL,MAvBa,UA0BjBoL,SAAU,CACRP,WAAYlI,EAAMmI,YAAYC,OAAO,QAAS,CAC5CC,OAAQrI,EAAMmI,YAAYE,OAAOC,MACjCC,SAAUvI,EAAMmI,YAAYI,SAASG,gBAEvCC,UAAW,SACXtL,MAAOgB,GAETuK,QAAS,CACPhC,QAAS,OACTiC,eAAgB,YAElBC,KAAK,eACF9I,EAAM+B,YAAYkG,GX/BQ,MW+BgB,CACzCc,OAAO,gBAAD,OXxBgB,OWwBhB,KACNnC,QAAS,OACToC,cAAe,SACfH,eAAgB,kBAGpBnC,MAAO,CACLuC,IX/BwB,aW8HfC,GA1FG,WAChB,IAAMrI,EAAUf,KADM,EAQlBqC,KALFC,EAHoB,EAGpBA,cACAlE,EAJoB,EAIpBA,aACA0E,EALoB,EAKpBA,aACAP,EANoB,EAMpBA,WACAE,EAPoB,EAOpBA,YAGFhF,qBAAU,WACR,GAAI6E,EAAe,CACjB,IAAM+G,EAAe1G,aAAa2G,QAAQrL,GACtCoL,EACFvG,EAAakD,KAAKC,MAAMoD,KAExB1G,aAAaC,QACX3E,EACA4E,OAAO3E,EAASE,eAElB0E,EAAa5E,EAASE,oBAEnBqE,MACN,CAACK,EAAcP,EAAYE,EAAaH,IAE3C,IAAIiH,EAAwC9G,EACxC+G,EAA2C,YAC3ClH,IACFiH,OAAcE,EACdD,EAAgB,aAGlB,IAEmB,IAFfE,EAAeC,YAAK5I,EAAQX,KAAMW,EAAQmH,QAC1C0B,EAAc7I,EAAQmH,OACtB5F,IACFoH,EAAeC,YAAK5I,EAAQX,MAAT,mBAChBW,EAAQmH,OAAS9J,GADD,cAEhB2C,EAAQ4H,UAAYvK,GAFJ,IAInBwL,EAAcD,YAAK5I,EAAQ6F,OAAT,mBACf7F,EAAQmH,OAAS9J,GADF,cAEf2C,EAAQ4H,UAAYvK,GAFL,KAOpB,OACE,kBAACyL,EAAA,EAAD,CACEC,QAASP,EACTQ,QAASP,EACTQ,KAAM5L,EACNsD,UAAWgI,EACX3I,QAAS,CACP6F,MAAOgD,KAGPtH,GACA,oCACE,yBAAKZ,UAAWX,EAAQ+H,SACtB,kBAAC,GAAD,CAAcxJ,OAAO,WAEvB,kBAAC2K,GAAA,EAAD,OAGJ,kBAACC,EAAA,EAAD,CAAMC,gBAAc,EAACzI,UAAWX,EAAQiI,KAAMrB,QAAS4B,GACrD,6BACE,kBAAC,GAAD,CACE3I,KAAM,kBAAC,IAAD,MACNC,QAASkC,GAAoBhF,GAC7B+C,GAAI/C,IAEN,kBAAC,GAAD,CACE6C,KAAM,kBAAC,IAAD,MACNC,QAASkC,GAAoBhF,GAC7B+C,GAAI/C,KAGR,6BACE,kBAACkM,GAAA,EAAD,MACA,kBAAC,GAAD,CACErJ,KAAM,kBAAC,KAAD,MACNC,QAASkC,GAAoBhF,GAC7B+C,GAAI/C,Q,wFC5HDmE,GA/BE,WAAO,IAAD,EACeE,KADf,mBACZ/D,EADY,KACZA,YAAe0B,EADH,KAEfqK,EAAmBC,aAAc,+BAAgC,CACrEC,OAAO,IAGHC,EAAkB/H,uBAAY,WAClCzC,EAAS,CAAER,KAAMR,MAChB,CAACgB,IAEEyK,EAAmBhI,uBAAY,WACnCzC,EAAS,CAAER,KAAMP,MAChB,CAACe,IAEE0K,EAAcjI,uBAAY,WAC9BG,aAAaC,QAAQ3E,EAA2B4E,QAAQxE,IACxDA,EAAcmM,IAAqBD,MAClC,CAACA,EAAiBC,EAAkBnM,IAEjCqM,EAAclI,uBAClB,SAACnE,GAEK0B,EADJ1B,EACa,CAAEkB,KAAMR,GACR,CAAEQ,KAAMP,MAEvB,CAACe,IAGH,MAAO,CAAE1B,cAAa+L,mBAAkBK,cAAaC,gBCdxCC,GAbK,WAAO,IAAD,EACazI,KAA7B7D,EADgB,EAChBA,YAAaoM,EADG,EACHA,YACfpD,EAAK,eAAWhJ,EAAc,MAAQ,KAAjC,eAEX,OACE,kBAACiJ,GAAA,EAAD,CAASC,MAAOF,GACd,kBAACG,GAAA,EAAD,CAAYC,aAAYJ,EAAOK,MAAM,UAAUC,QAAS8C,GACrDpM,EAAc,kBAAC,KAAD,MAAkB,kBAAC,KAAD,SCXnC2B,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAM,CACJ0G,QAAS,OACTiC,eAAgB,WAChB,yBAA0B,CACxB6B,YAAa1K,EAAM2K,QAAQ,WAwBpBC,GAXQ,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,QAASC,EAAmB,EAAnBA,MAC3BjK,EAAUf,KAChB,OACE,yBAAK0B,UAAWX,EAAQX,MACrB2K,EACAC,EACD,kBAAC,GAAD,QCdAhL,GAAYC,aAAW,SAACC,GAAD,aAC3BC,YAAa,CACXC,KAAM,CACJsG,gBAAiBxG,EAAMM,QAAQmG,WAAWC,MAC1CqE,OAAQ/K,EAAM+K,OAAOC,OAAS,EAC9B,OAAO,eACJhL,EAAM+B,YAAYkG,GAAG,MAAQ,CAC5BgD,SAAU,SAGd,wBAAwB,eACrBjL,EAAM+B,YAAYkG,GAAG,MAAQ,CAC5BgD,SAAU,YAIhBrC,SAAO,GACLb,aAAc/H,EAAM2K,QAAQ,IADvB,cAEJ3K,EAAM+B,YAAY6F,KAAK,MAAQ,CAC9Bf,UAAWvI,IAHR,cAKJ0B,EAAM+B,YAAYkG,GAAG,MAAQ,CAC5BF,aAAc/H,EAAM2K,QAAQ,KANzB,GASPtD,MAAM,aACJ6D,SAAU,EACVC,WAAYnL,EAAM2K,QAAQ,IACzB3K,EAAM+B,YAAYkG,GAAG,MAAQ,CAC5BkD,WAAYnL,EAAM2K,QAAQ,UA+BnBS,GApBG,SAAC,GAA0C,IAAxCC,EAAuC,EAAvCA,QAASC,EAA8B,EAA9BA,OAAWrE,EAAmB,qCACpDpG,EAAUf,KAChB,OACE,kBAACyL,GAAA,EAAD,CAAQ/J,UAAWX,EAAQX,MACzB,kBAACsL,GAAA,EAAD,CACEC,gBAAc,EACd5B,QAAQ,QACRhJ,QAAS,CAAEX,KAAMW,EAAQ+H,UAEzB,kBAAC,GAAD,MACA,kBAAC8C,GAAA,EAAD,CAAY7B,QAAQ,KAAKrI,UAAWX,EAAQwG,OACzCgE,GAAWxI,GAAoBwI,IAEjCC,EACD,kBAAC,GAAmBrE,M,oBChEtBnH,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAM,CACJsH,MAAOxH,EAAMM,QAAQC,UAAUC,KAC/ByK,SAAU,SACVU,WAAY,UACZC,SAAU,SACVvO,MAAO,MACP0L,OAAQ,MACR8C,aAAc,MACdC,OAAQ,mBAgBCC,GAPC,SAAC,GAA0B,IAAxBvK,EAAuB,EAAvBA,UACXX,EAAUf,KAChB,OACE,yBAAK0B,UAAWiI,YAAKuC,KAAO9L,KAAMW,EAAQX,KAAMsB,IAAhD,e,oBCtBE1B,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAM,CACJ0G,QAAS,OACTD,UAAW,SACXtJ,MAAO,QACP,UAAW,CACT4N,SAAU,OACVP,YAAa1K,EAAM2K,QAAQ,KAG/BsB,YAAa,CACXC,QAAS,MACTC,UAAU,aAAD,OAAenM,EAAMM,QAAQK,QAAQyL,oBAkCrCC,GApBD,SAAC,GAID,IAHZpP,EAGW,EAHXA,SACAqP,EAEW,EAFXA,YAEW,IADXC,0BACW,SACL1L,EAAUf,KAChB,OACE,yBACE0B,UAAWiI,YACT5I,EAAQX,KACRoM,GACCC,GAAsB1L,EAAQoL,cAGjC,kBAAC,KAAD,MACA,2BAAIhP,KCJKuP,GA9BI,SAAC,GAQN,IACRC,EARJxP,EAOW,EAPXA,SACAyP,EAMW,EANXA,cACAC,EAKW,EALXA,UACAC,EAIW,EAJXA,aACAC,EAGW,EAHXA,QAGW,IAFXC,sBAEW,SADR7F,EACQ,mGAmBX,OAhBEwF,EADEE,EACS,kBAAC,GAAD,CAASnL,UAAWkL,IAE3BI,GAAkBD,EAElB,oCACE,kBAAC,GAAU5F,EAAQ2F,GAClB3P,GAGI4P,EACE,kBAAC,GAAU5F,EAAQ2F,GAEnB3P,EAIR,oCAAGwP,IClCN3M,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAM,CACJ0G,QAAS,OACTiC,eAAgB,SAChBxL,MAAO,OACP0P,UAAW,OACX,SAAU,CACRrC,YAAa,WAkCNsC,GAnBC,SAAC,GAA2C,IAAzC1B,EAAwC,EAAxCA,OAAQqB,EAAgC,EAAhCA,UAAWE,EAAqB,EAArBA,QAC9BhM,EAAUf,KAEhB,OACE,oCACE,kBAAC,GAAD,CAAWuL,QAASxN,IACpB,kBAAC,GAAD,CACE8O,UAAWA,EACXE,QAASA,EACTC,gBAAc,EACdF,aAAY,2FAGZ,yBAAKpL,UAAWX,EAAQX,MAAOoL,MCtCjCxL,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAM,CACJ+M,WAAY,UACZC,SAAU,WACVC,cAAe,MACflC,SAAU,OACVlD,aAAc/H,EAAM2K,QAAQ,KAC5ByC,WAAY,SACZ,SAAU,CACRF,SAAU,WACVjE,IAAK,IACLoE,MAAO,IACPpC,SAAU,QACVmC,WAAY,eAuBLE,GAXK,SAAC,GAAiD,IAA/CrQ,EAA8C,EAA9CA,SAAUuE,EAAoC,EAApCA,UAAWoD,EAAyB,EAAzBA,YACpC/D,EAAUf,KAEhB,OACE,uBAAG0B,UAAWiI,YAAK5I,EAAQX,KAAMsB,IAC9BoD,EACD,qCAAY3H,KC5BZ6C,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAM,CACJ4L,OAAQ,SACRyB,UAAW,SACXC,SAAU,QACV,wBAAyB,CACvB5G,QAAS,OACTiC,eAAgB,SAChB4E,aAAczN,EAAM2K,QAAQ,KAE9B,sBAAuB,CACrBsC,WAAY,UACZhC,SAAU,SACVwC,aAAczN,EAAM2K,QAAQ,KAE9B,OAAQ,CACN/D,QAAS,OACTiC,eAAgB,SAChB6E,SAAU,OACV,wBAAyB,CACvBhD,YAAa,SAInBiD,OAAQ,CACN/G,QAAS,OACToC,cAAe,SACfmC,WAAY,MACZ,WAAY,CACVyC,OAAQ,mBACR3C,SAAU,SACViB,QAAS,eA0CF2B,GA/BQ,SAAC,GAA4B,IAA1BlK,EAAyB,EAAzBA,KAAMmK,EAAmB,EAAnBA,MACxBjN,EAAUf,KAEhB,OACE,6BAAS0B,UAAWX,EAAQX,MAC1B,kBAACwL,GAAA,EAAD,CAAY7B,QAAQ,MACjBlG,EAAKC,KADR,KACgBD,EAAKe,SAErB,6BACE,kBAAC,GAAD,CAAaE,YAAajB,EAAKiB,aAA/B,MAUF,2BAAIjB,EAAKa,WACRsJ,EACD,4BACE,2CAAiBnK,EAAKqB,WAAtB,KACA,qCAAWrB,EAAKwB,UAAhB,QACA,yCAAexB,EAAK2B,SAApB,OACA,yCAAe3B,EAAK4B,SAApB,Q,oBC/BOwI,GA/BD,SAAC,GAA6B,IAA3B3P,EAA0B,EAA1BA,aAA0B,EACLlB,oBAAS,GADJ,mBAClC8Q,EADkC,KACtBC,EADsB,OAEP/L,KAFO,mBAEhCjE,EAFgC,KAEhCA,UAAa4B,EAFmB,KAYzCtC,qBAAU,WACR0Q,EAAchQ,EAAU4H,SAASzH,MAChC,CAACH,EAAWG,IAEf,IAAM+I,EAAQ6G,EAAa,wBAA0B,mBAErD,OACE,kBAAC5G,GAAA,EAAD,CAASC,MAAOF,GACd,kBAACG,GAAA,EAAD,CACEC,aAAYJ,EACZK,MAAM,UACNC,QAASuG,EAfa,WAC1BnO,EAAS,CAAER,KAAML,EAAuBM,SAAUlB,KAL7B,WACrByB,EAAS,CAAER,KAAMN,EAAkBO,SAAUlB,MAoBxC4P,EAAa,kBAAC,KAAD,MAAe,kBAAC,IAAD,SCJtBE,GAhCE,SACfC,EACAC,GACI,IAAD,EACuBrN,IAAM7D,SAASiR,GADtC,mBACIL,EADJ,KACWO,EADX,KA0BH,OAvBAtN,IAAMxD,WAAU,WACV4Q,GAAuB,MAEzBE,EAASF,GACTC,GAAqB,MAEtB,CAACD,EAAqBC,IAEzBrN,IAAMxD,WAAU,WACd,IAAM+Q,EAAeC,YAAW,WAC1BT,GAAS,IACXO,GAAS,SAAAP,GAAK,OAAIA,EAAQ,OAG1BM,GAAqB,KAItB,KACH,OAAO,kBAAMI,aAAaF,MACzB,CAACR,EAAOM,IAGJN,GC1BHhO,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAM,CACJuN,aAAczN,EAAM2K,QAAQ,KAC5B,QAAS,CACPM,SAAU,SACVwC,aAAczN,EAAM2K,QAAQ,IAC5B,IAAK,CACHsC,WAAY,cAkCPwB,GArBD,SAAC,GAID,IAHZN,EAGW,EAHXA,oBACAC,EAEW,EAFXA,qBACAlL,EACW,EADXA,YAEMrC,EAAUf,KACVgO,EAAQI,GAASC,EAAqBC,GAE5C,OACE,yBAAK5M,UAAWX,EAAQX,MACtB,4Cf8BgC,SAACgD,GACrC,IAAMwL,GAAc,IAAIvL,MAAOwL,cACzBC,EAAc,IAAIzL,KAAKD,GAAayL,cACpCE,EAAO5I,GACX,IAAI9C,KAAKD,GAAa4L,eACtB,IACA,EACA,GACA9L,MAAM,EAAG,GACL+L,EAAO,IAAI5L,KAAKD,GAAa8L,eAEnC,GAAIN,IAAgBE,EAAa,CAC/B,IAAMK,GAAa,IAAI9L,MAAO+L,UACxBC,EAAa,IAAIhM,KAAKD,GAAagM,UAEzC,OAAID,IAAeE,EACVN,EACEI,EAAa,IAAME,EACtB,cAAN,OAAqBN,GAEf,GAAN,OAAU5I,GAAoB8I,EAAM,IAAK,EAAG,GAA5C,aAAmDF,GAGrD,MAAM,GAAN,OAAU5I,GAAoB8I,EAAM,IAAK,GAAzC,aAAgDF,GerD5BO,CAAuBlM,GAAzC,KACA,qCACU,IACP4K,GAAS,IAAT,gCfsDuB,SAACuB,GAC/BA,GAAgB,IAChB,IAAMC,EAAQzK,KAAK0K,MAAOF,EAAe,KAAW,IAC9CG,EAAU3K,KAAK0K,MAAOF,EAAe,IAAS,IAEpD,OAAIC,EAAQ,EACJ,GAAN,OAAUA,EAAV,aAAoBE,EAApB,KAEM,GAAN,OAAUA,EAAV,Ke7DiCC,CAAiB3B,GAD7C,KAEG,mB,oBC5BN4B,GAAU,SAAC,GAAgC,IAA9BvI,EAA6B,EAA7BA,MAAUF,EAAmB,0BAC9C,OACE,kBAACG,GAAA,EAAD,CAASC,MAAOF,GACd,8BACE,kBAACG,GAAA,EAAD,eAAYC,aAAYJ,EAAOK,MAAM,WAAcP,GACjD,kBAAC,KAAD,UAOVyI,GAAQC,aAhBa,CACnBxI,MAAO,WAgBMuI,UCdAE,GAVI,SAACC,EAAwBpI,GAAyB,IAAD,EAChBvK,oBAAS,GADO,mBAC3D4S,EAD2D,KACxC1B,EADwC,KAE5DvD,EAAU,kBAAC,GAAD,CAASpD,QAASA,EAASsI,SAAUD,IACrD,OAAID,EACK,CAACzB,EAAsBvD,GAEvB,CAACuD,ICuDG4B,GA5CE,SAAC,GAA4D,IlBoCvC9M,EkBpCnB9E,EAAyD,EAAzDA,aAAckN,EAA2C,EAA3CA,OAAQjH,EAAmC,EAAnCA,SAAU4L,EAAyB,EAAzBA,YAC1CtM,EAA6BU,EAA7BV,KAAMgJ,EAAuBtI,EAAvBsI,UAAWE,EAAYxI,EAAZwI,QADkD,EAEnC+C,KAAajM,GAAM,kBACzDsM,EAAY7R,MAH6D,mBAEpEgQ,EAFoE,KAE9CvD,EAF8C,KAKrEC,EAAQnH,EAAO,kBAAC,GAAD,CAAOvF,aAAcA,SAAmBmL,EAO7D,OALAhM,qBAAU,WACR0S,EAAY7R,KACX,CAAC6R,EAAa7R,IAIf,oCACE,kBAAC,GAAD,CACEiN,QAASxN,EACTgN,QAASA,EACTC,MAAOA,EACPQ,OAAQA,IAEV,kBAAC,GAAD,CACEqB,UAAWA,EACXE,QAASA,EACTD,aAAY,2BAAsB/J,GAChCzE,GADU,+DAIXuF,GACC,kBAAC,GAAD,CACEA,KAAMA,EAAKW,eACXwJ,MACE,kBAAC,GAAD,CACEK,qBlBIuBjL,EkBJqBS,EAAKT,Y3B5C7B,OSiDH,IAAIC,MAAOC,UAAYF,IkBJxCkL,qBAAsBA,EACtBlL,YAAaS,EAAKT,mBCjD5BpD,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAM,CACJsG,gBAAiBxG,EAAMM,QAAQK,QAAQuP,MACvCtJ,QAAS,OACTuF,UAAU,aAAD,OAAenM,EAAMM,QAAQK,QAAQyL,oBAoBrC+D,GATF,SAAC,GAA8C,IAA5ClT,EAA2C,EAA3CA,SAAUuE,EAAiC,EAAjCA,UAAW4O,EAAsB,EAAtBA,SAC7BvP,EAAUf,KAChB,OACE,0BAAM0B,UAAWiI,YAAK5I,EAAQX,KAAMsB,GAAY4O,SAAUA,GACvDnT,I,4BClBD6C,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAM,CACJiL,WAAY,YAkCHkF,GAnBKpP,sBAClB,WAAgCE,GAAS,IAAtClE,EAAqC,EAArCA,SAAUkK,EAA2B,EAA3BA,MAAUF,EAAiB,qCAChCpG,EAAUf,KAChB,OACE,kBAACsH,GAAA,EAAD,CAASC,MAAOF,GACd,kBAACG,GAAA,EAAD,eACEC,aAAYJ,EACZK,MAAM,UACNrG,IAAKA,GACD8F,EAJN,CAKEzF,UAAWX,EAAQX,OAElBjD,OCnBIqT,GAXMrP,sBAA2B,WAE9CE,GACC,IAFI8F,EAEL,mBACA,OACE,kBAAC,GAAD,eAAa9F,IAAKA,GAAS8F,GACzB,kBAAC,KAAD,UCTAnH,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAM,CACJsH,MAAOxH,EAAMM,QAAQK,QAAQyL,aAC7B5F,gBAAiB,cACjBoH,OAAQ,OACR3C,SAAU,SACViB,QAAS,YACT7O,MAAO,OACP,UAAW,CACT8O,UAAU,eAAD,OAAiBnM,EAAMM,QAAQlB,OAAOgB,eAqCxCmQ,GAnBItP,sBAA0B,WAE3CE,GACC,IAFCvD,EAEF,EAFEA,MAAO2G,EAET,EAFSA,KAET,IAFelF,YAEf,MAFsB,OAEtB,EAF8BmR,EAE9B,EAF8BA,OAAQC,EAEtC,EAFsCA,SAAUC,EAEhD,EAFgDA,YAG1C7P,EAAUf,KAChB,OACE,2BACEqB,IAAKA,EACLvD,MAAOA,EACP2G,KAAMA,EACNkM,SAAUA,EACVC,YAAaA,EACbrR,KAAMA,EACNmR,OAAQA,EACRhP,UAAWX,EAAQX,UClBVyQ,GApBK1P,sBAA0B,WAE5CE,GACC,IAFCyP,EAEF,EAFEA,eAAmB3J,EAErB,mCAMA,OACE,kBAAC,GAAD,eACE9F,IAAKA,EACL9B,KAAK,SACLqR,YAAY,SACZD,SAV+B,SAAAI,GACjC,IAAMC,EAAQD,EAAME,cAAcnT,MAClCgT,EAAeE,KAST7J,OCVJnH,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAK,aACHgN,SAAU,WACVjE,IAAK,MACL+H,UAAW,mBACX3D,MAAO,OACPtC,OAAQ,GACP/K,EAAM+B,YAAYkG,GAAG,MAAQ,CAC5BiF,SAAU,SACVxC,YAAa1K,EAAM2K,QAAQ,KAC3BqG,UAAW,OACXjG,OAAQ,cA8EDkG,GAhEA,SAAC,GAAsC,IAApC7S,EAAmC,EAAnCA,aAAc8S,EAAqB,EAArBA,QAAqB,EACbhU,mBAAS,IADI,mBAC5CiU,EAD4C,KAC/BP,EAD+B,OAET1T,oBAAS,GAFA,mBAE5CkU,EAF4C,KAE7BC,EAF6B,KAG7CC,EAAgBC,iBAA0B,MAC1CC,EAAiBD,iBAAyB,MAC1C1Q,EAAUf,KACV2R,EAAS5P,GAAe,MANqB,EAO9BK,KAAZrC,EAP0C,oBAS7C6R,EAA2B,SAAAb,GAC/BA,EAAMc,iBACN,IAAMb,EAAQK,EAAYS,OAAO/N,cAC7BiN,IACFF,EAAe,IACXE,IAAU1S,EACZ8S,EAAQJ,GAERjR,EAAS,CAAER,KAAMJ,EAAmBb,aAAc0S,MAGjDW,GAAUH,EAAcO,UAC3BR,GAAiB,GACjBC,EAAcO,QAAQC,UAM1BvU,qBAAU,YACHkU,GAAUD,EAAeK,SAC5BL,EAAeK,QAAQC,UAExB,CAACV,EAAeK,IAEnB,IAAMM,EAAgB,SAACvB,GAAD,OACpB,kBAAC,GAAD,CAAMhP,UAAWX,EAAQX,KAAMkQ,SAAUsB,GACvC,kBAAC,GAAD,CACEvQ,IAAKqQ,EACL5T,MAAOuT,EACPX,OAAQA,EACRI,eAAgBA,IAEjBa,GAAU,kBAAC,GAAD,CAActK,MAAM,SAAS9H,KAAK,aAIjD,OACE,oCACGoS,EACCM,IAEA,oCACGX,GAAiBW,GA1BP,kBAAMV,GAAiB,MA2BlC,kBAAC,GAAD,CACElQ,IAAKmQ,EACLnK,MAAM,cACNM,QAAS,kBAAM4J,GAAiB,S,6kBCnD7BW,OA/Bf,SAAwB7S,EAAiBC,GACvC,OAAQA,EAAOC,MACb,KAAKb,EACH,OAAO,MACFW,EADL,CAEEwN,WAAW,EACXE,SAAS,IAGb,KAAKpO,EAEH,OAAO,MACFU,EADL,CAEEwE,KAHevE,EAATuE,KAINgJ,WAAW,IAGf,KAAKjO,EACH,OAAO,MACFS,EADL,CAEEwE,KAAM,KACNgJ,WAAW,EACXE,SAAS,IAGb,QACE,OAAO1N,IC5BE8S,OARf,WACE,OAAOtS,qBAAyCqS,GAAa,CAC3DrO,KAAM,KACNgJ,WAAW,EACXE,SAAS,KCmCEqF,GApCO,SAAC9T,GAA2B,IAAD,EACrB6T,KADqB,mBACxC9S,EADwC,KACjCU,EADiC,KAGzCoQ,EAAc3N,sBAAW,yCAC7B,WAAOhD,GAAP,sBAAAgE,EAAA,yDACEzD,EAAS,CAAER,KAAMb,IACjBmH,GAAqBrG,KACf6S,EAAiB1P,aAAa2G,QAAb,2BACD9J,KAJxB,sBAQ4BwG,KAAKC,MAAMoM,GAA3BjP,EARZ,EAQYA,aACJD,GAAeC,GATvB,iCAUuBc,GAAc1E,GAVrC,OAUM+E,EAVN,+BAYMA,EAAWyB,KAAKC,MAAMoM,GAZ5B,iDAeqBnO,GAAc1E,GAfnC,QAeI+E,EAfJ,eAkBIxE,EADEwE,EACO,CAAEhF,KAAMZ,EAAekF,KAAMU,GAE7B,CAAEhF,KAAMX,IApBrB,4CAD6B,sDAwB7B,CAACmB,IAMH,OAJAtC,qBAAU,WACRa,GAAgB6R,EAAY7R,KAC3B,CAACyB,EAAUoQ,EAAa7R,IAEpB,CAACe,EAAO8Q,ICbFmC,GAlBG,SAAC,GAAuC,IAArChU,EAAoC,EAApCA,aAAiB6I,EAAmB,mCACvBiL,KADuB,mBAChD7N,EADgD,KACtC4L,EADsC,KAGjD3E,EAAS,kBAAC,GAAD,CAAQlN,aAAcA,EAAc8S,QAASjB,IAG5D,OAAO7R,EACL,kBAAC,GAAD,CACEA,aAAcA,EACdiG,SAAUA,EACV4L,YAAaA,EACb3E,OAAQA,IAGV,kBAAC,GAAD,eAASA,OAAQA,GAAYrE,K,oBCf3BnH,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAM,CACJ0G,QAAS,OACT,cAAe,CACbyL,QAAS,QAEX,oBAAqB,CACnBzE,OAAO,iBAAD,OAAmB5N,EAAMM,QAAQC,UAAUC,MACjD0H,WAAY,uBACZ,UAAW,CACTiE,UAAU,iBAAD,OAAmBnM,EAAMM,QAAQgS,KAAK3R,UAEjD,UAAW,CACT0R,QAAQ,iBAAD,OAAmBrS,EAAMM,QAAQiS,KAAK,SAInDC,KAAM,CACJ5L,QAAS,QAEX6L,IAAK,CACHjM,gBAAiBxG,EAAMM,QAAQC,UAAUC,KACzCgH,MAAOxH,EAAMM,QAAQC,UAAU6L,aAC/BF,QAASlM,EAAM2K,QAAQ,GACvB9D,UAAW,SACXgB,SAAU,cA0CD6K,GA1BC,SAAC,GAQH,IAPZzV,EAOW,EAPXA,SACA0V,EAMW,EANXA,QACAC,EAKW,EALXA,WACAC,EAIW,EAJXA,UACAjS,EAGW,EAHXA,GACAkS,EAEW,EAFXA,MACArL,EACW,EADXA,QAEM5G,EAAUf,KAChB,OACE,yBAAK0B,UAAWX,EAAQX,MACtB,kBAACkH,GAAA,EAAD,CAASC,MAAOsL,GACd,kBAAC,IAAD,CACE/R,GAAIA,EACJ6G,QAASA,EACTjG,UAAWiI,YAAK5I,EAAQ2R,KAAMI,IAE9B,yBAAKpR,UAAWiI,YAAK5I,EAAQ4R,IAAKI,IAAa5V,KAGlD6V,ICxDDhT,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXuS,KAAM,CACJ9H,YAAa,WAEfqI,MAAO,CACLnM,QAAS,OACT,oBAAqB,CACnBqE,SAAU,SACVgC,WAAY,UACZlF,aAAc/H,EAAM2K,QAAQ,KAC5BqI,cAAehT,EAAM2K,QAAQ,GAC7B,SAAU,CACRM,SAAU,QACVmC,WAAY,WAIlB6F,QAAS,CACPzL,MAAOxH,EAAMM,QAAQ4S,OAAOC,MAC5BlI,SAAU,UAEZlH,MAAO,CACL1G,MAAO,cA0DE+V,GA7CI,SAAC,GAAmC,IAAjC9T,EAAgC,EAAhCA,SAAUrC,EAAsB,EAAtBA,SACxB4D,EAAUf,KADoC,EAEboS,GAAc5S,GAFD,sBAE3CqE,EAF2C,EAE3CA,KAAMgJ,EAFqC,EAErCA,UAAWE,EAF0B,EAE1BA,QAF0B,EAG/B3K,KAAZrC,EAH2C,oBASpD,OACE,kBAAC,GAAD,CACE8S,QAAQ,iBACR/R,GAAE,UAAK/C,GACP4J,QARoB,WACtB5H,EAAS,CAAER,KAAMJ,EAAmBb,aAAckB,KAQhDsT,WAAY/R,EAAQ2R,KACpBM,MAAO7V,GAEP,kBAAC,GAAD,CACEyP,cAAe7L,EAAQoS,QACvB3G,YAAazL,EAAQkD,MACrB4I,UAAWA,EACXE,QAASA,EACTD,aAAY,2BAAsB/J,GAChCvD,GADU,8DAGZiN,oBAAkB,GAEjB5I,GACC,oCACE,kBAAC+H,GAAA,EAAD,CAAY7B,QAAQ,MACjBlG,EAAKW,eAAeV,KADvB,KAC+BD,EAAKW,eAAeI,SAEnD,yBAAKlD,UAAWX,EAAQkS,OACtB,kBAAC,GAAD,CAAanO,YAAajB,EAAKW,eAAeM,aAA9C,MAIF,2BAAIjB,EAAKW,eAAeE,eC9E9B1E,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXuS,KAAM,CACJvH,SAAU,SACViB,QAAS,QACTtF,QAAS,OACTyM,WAAY,SACZ7L,MAAOxH,EAAMM,QAAQgS,KAAK3R,cAoBjB2S,GAbQ,SAAC,GAAyB,IAApBrM,EAAmB,mBACxCpG,EAAUf,KAChB,OACE,kBAAC,GAAemH,EACd,kBAACG,GAAA,EAAD,CAASC,MAAM,0BACb,kBAAC,IAAD,CAAMzG,GAAE,UAAK/C,GAA0B2D,UAAWX,EAAQ2R,MACxD,kBAAC,KAAD,U,oBCvBJ1S,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXwS,IAAK,CACH7L,QAAS,OACTiC,eAAgB,SAChBwK,WAAY,UAEd3S,KAAM,CACJuK,SAAU,eAkBDsI,GAbQ,WACrB,IAAM1S,EAAUf,KAChB,OACE,kBAAC,GAAD,CACE6S,QAAQ,eACR/R,GAAI/C,EACJgV,UAAWhS,EAAQ4R,KAEnB,kBAAC,KAAD,CAASjR,UAAWX,EAAQH,S,oBCX5B8S,GAAgB,SAAC,GAAgC,IAA9BrM,EAA6B,EAA7BA,MAAO7H,EAAsB,EAAtBA,SAAsB,EAC/B4C,KAAZrC,EAD2C,oBAOpD,OACE,kBAAC,GAAD,CAAYP,SAAUA,GACpB,kBAAC8H,GAAA,EAAD,CAASC,MAAOF,GACd,kBAACG,GAAA,EAAD,CAAYC,aAAYJ,EAAOK,MAAM,UAAUC,QAPjC,WAClB5H,EAAS,CAAER,KAAML,EAAuBM,eAOlC,kBAAC,KAAD,UAOVkU,GAAc7D,aAtBO,CACnBxI,MAAO,yBAsBMqM,UCxBT1T,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAM,CACJ,6BAA6B,aAC3BuN,aAAczN,EAAM2K,QAAQ,IAC3B3K,EAAM+B,YAAYkG,GAAG,MAAQ,CAC5BwF,aAAczN,EAAM2K,QAAQ,MAIlC1M,UAAW,CACT2I,QAAS,OACT8G,SAAU,OACV,UAAU,aACRD,aAAczN,EAAM2K,QAAQ,IAC3B3K,EAAM+B,YAAYkG,GAAG,MAAQ,CAC5BwF,aAAczN,EAAM2K,QAAQ,KAGhC,2BAA2B,aACzBD,YAAa1K,EAAM2K,QAAQ,IAC1B3K,EAAM+B,YAAYkG,GAAG,MAAQ,CAC5BwF,aAAczN,EAAM2K,QAAQ,WA0CvB8I,GA9BG,SAAC,GAA0C,IAAxC/N,EAAuC,EAAvCA,eAAgBzH,EAAuB,EAAvBA,UAC7B4C,EAAUf,KAEhB,OACE,oCACE,kBAAC,GAAD,CAAWuL,QAASxN,IACpB,yBAAK2D,UAAWX,EAAQX,MACtB,iCACE,kBAACwL,GAAA,EAAD,CAAY7B,QAAQ,MAApB,mBACCnE,EACC,kBAAC,GAAD,CAAgBpG,SAAUoG,IAE1B,kBAAC,GAAD,OAGHzH,EAAUyV,OAAS,GAClB,iCACE,kBAAChI,GAAA,EAAD,CAAY7B,QAAQ,MAApB,mBACA,yBAAKrI,UAAWX,EAAQ5C,WACrBA,EAAU0V,KAAI,SAAArU,GAAQ,OACrB,kBAACsU,GAAD,CAAkBhO,IAAKtG,EAAUA,SAAUA,YChD5CuU,GATC,SAAC,GAAkC,IAAhCxI,EAA+B,EAA/BA,QAASpO,EAAsB,EAAtBA,SAC1B,OACE,iCACE,kBAACyO,GAAA,EAAD,CAAY7B,QAAQ,MAAMwB,GACzBpO,ICID6C,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAM,CACJsN,SAAU,cA6CDsG,GAjCe,SAAC,GAA8C,IAA5CpO,EAA2C,EAA3CA,eAAgBqO,EAA2B,EAA3BA,cACzClT,EAAUf,KAD0D,EAE7CoC,KAApB8R,EAFiE,oBAmBtE3I,EAAO,kBAEX,OADI3F,IAAgB2F,GAAO,YAASxI,GAAoB6C,KAEtD,kBAAC,GAAD,CAAS2F,QAASA,GAChB,kBAAC,GAAD,CAAM+E,SAAU,SAAAS,GAAK,OAnBQ,SAAAA,GAC/BA,EAAMc,iBACN,IACMjM,EADOmL,EAAME,cACSrL,eAAe9H,MAAMgU,OAAO/N,cACpD6B,IACFjD,aAAaC,QAAQ3E,EAA8B2H,GACnDqO,EAAc,CAAE1U,KAAMZ,EAAekF,KAAM+B,IAC3CsO,EAAiB,CACf3U,KAAMJ,EACNb,aAAcsH,IAEhBmL,EAAME,cAAckD,SAQKvC,CAAab,IAAQrP,UAAWX,EAAQX,MAC/D,kBAAC,GAAD,CAAYqE,KAAK,iBAAiBmM,YAAY,wBAC9C,kBAAC,GAAD,CAAavJ,MAAM,SAAS9H,KAAK,UAC/B,kBAAC,KAAD,UC9CJS,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAM,CACJ7C,MAAO,OACP,cAAe,CACb0P,UAAW/M,EAAM2K,QAAQ,UAuBlBuJ,GAfE,SAAC,GAAyB,IAApBjN,EAAmB,mBAClCpG,EAAUf,KAEhB,OACE,oCACE,kBAAC,GAAD,CAAWuL,QAASxN,IACpB,6BAAS2D,UAAWX,EAAQX,MAC1B,kBAACwL,GAAA,EAAD,CAAY7B,QAAQ,MAApB,WACA,kBAAC,GAA0B5C,MCapBkN,GAlCW,SAACH,GAAwC,IAAD,EACjC/B,KADiC,mBACzD9S,EADyD,KAClD4U,EADkD,KAI1DK,EAAe9R,uBACnB,SAACoD,GACCsO,EAAiB,CACf3U,KAAMJ,EACNb,aAAcsH,IAEhBqO,EAAc,CAAE1U,KAAMZ,EAAekF,KAAM+B,MAE7C,CAACqO,EAAeC,IAmBlB,OAhBAzW,qBAAU,WACR,wBAAC,6BAAA+F,EAAA,2DACKoC,EAAiBjD,aAAa2G,QAAQ,oBAD3C,gBAGGgL,EAAa1O,GAHhB,8BAKGqO,EAAc,CAAE1U,KAAMb,IALzB,SAM0BiH,KAN1B,QAMGC,EANH,QAQK0O,EAAa1O,GAEbqO,EAAc,CAAE1U,KAAMX,IAV3B,2CAAD,KAcC,CAACqV,EAAeK,IACZ,CAACjV,EAAO4U,ICzBXjU,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAK,aACH0G,QAAS,OACToC,cAAe,SACfqK,WAAY,aACZnI,SAAU,EACV6B,UAAWzO,EACX4N,QAASlM,EAAM2K,QAAQ,IACtB3K,EAAM+B,YAAYkG,GAAG,MAAQ,CAC5B8E,UhDiBsB,OgDhBtBb,QAASlM,EAAM2K,QAAQ,EAAG,UA0CnB0J,GApCC,WACd,IAAMxT,EAAUf,KADI,EAEoCoC,KAFpC,0BAEX9D,EAFW,EAEXA,aAAcH,EAFH,EAEGA,UAAa+V,EAFhB,OAMhBG,GAAkBH,GANF,0BAIVtO,EAJU,EAIhB/B,KAAsBgJ,EAJN,EAIMA,UAAWE,EAJjB,EAIiBA,QACnCkH,EALkB,KASpB,OACE,0BAAMvS,UAAWX,EAAQX,MACvB,kBAAC,KAAD,KACE,kBAAC,KAAD,CAAOoU,KAAI,WAAMzW,IACf,kBAAC,GAAD,CACEO,aAAcA,EACduO,UAAWA,EACXE,QAASA,KAGb,kBAAC,KAAD,CAAOyH,KAAI,WAAMzW,IACf,kBAAC,GAAD,CAAW6H,eAAgBA,EAAgBzH,UAAWA,KAExD,kBAAC,KAAD,CAAOqW,KAAI,WAAMzW,IACf,kBAAC,GAAD,CACE6H,eAAgBA,EAChBqO,cAAeA,KAGnB,kBAAC,KAAD,CAAOO,KAAI,KACT,kBAAC,KAAD,CAAU1T,GAAE,WAAM/C,SCzDtBiC,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAM,CACJ0G,QAAS,aAeA2N,GAVF,WACX,IAAM1T,EAAUf,KAChB,OACE,yBAAK0B,UAAWX,EAAQX,MACtB,kBAAC,GAAD,MACA,kBAACsU,GAAD,Q,mnBCRN,IAAMC,GAAY,CAChBC,QAAS,CACPnU,UAAW,CACTC,K,QAAMmU,EAAK,OAGfC,MAAO,CACLC,UAAW,CACTC,UAAW,GAEbC,cAAe,CACbC,eAAe,IAGnBC,UAAW,CACTC,UAAW,CACTC,sBAAuB,CACrBC,YAAa,IAGjBC,cAAe,CACbnV,KAAM,CACJ2L,aAAc,IACdZ,SAAU,OACViB,QAAS,UAGboJ,YAAa,CACXC,QAAS,CACPzN,YlDD6B,OkDE7BC,alDF6B,SkDKjCyN,gBAAiB,CACftV,KAAM,CACJ2H,SAAUtJ,IAGdkX,WAAY,CACVvV,KAAM,CACJ+K,SlDX0B,WkDc9ByK,WAAY,CACVC,MAAO,CACL9O,UlDZsB,SkDe1B+O,WAAY,CACVjD,QAAS,CACP1H,SAAU,YAIhB4K,WAAY,CACVC,GAAI,CACF7K,SAAU,UAEZ8K,GAAI,CACF9K,SAAU,UAEZ+K,GAAI,CACF/K,SAAU,SACVgC,WAAY,MAGhBtC,QAAS,SAACsL,GAAD,gBlD/BmB,GkD+BqBA,EAAxC,QACTC,MAAO,CACLrK,aAAc,IAILsK,GAAaC,aAAe,MACpC3B,GADmC,CAEtCnU,QAAQ,MACHmU,GAAUC,QADR,CAELtV,OAAQ,CACNgB,OAAQ,qBACRiW,MAAO,sBACPC,SAAU,uBAEZ7P,WAAY,CACV8P,QAAShE,KAAK,MAEhB5R,QAAS,CACPH,KAAM+R,KAAK,UAKJiE,GAAYJ,aAAe,MACnC3B,GADkC,CAErCnU,QAAQ,MACHmU,GAAUC,QADR,CAELtV,OAAQ,CACNgB,OAAQ,2BACRiW,MAAO,4BAET1V,QAAS,CACPH,KAAM+R,KAAK,MAEblT,KAAM,YC/FJoX,GAAYC,aAAW,SAAC1W,GAAD,OAC3BC,YAAa,CACX,UAAW,CACT,oBAAoB,aAClBwN,aAAczN,EAAM2K,QAAQ,IAC3B3K,EAAM+B,YAAYkG,GAAG,MAAQ,CAC5BgD,SAAU,SAGd,oBAAoB,aAClBwC,aAAczN,EAAM2K,QAAQ,MAC3B3K,EAAM+B,YAAYkG,GAAG,MAAQ,CAC5BgD,SAAU,WAGd,sBAAuB,CACrB,UAAW,CACTzE,gBAAiBxG,EAAMM,QAAQlB,OAAOkX,UAExC,UAAW,CACT9P,gBAAiBxG,EAAMM,QAAQlB,OAAOiX,OAExC,WAAY,CACV7P,gBAAiBxG,EAAMM,QAAQlB,OAAOgB,OACtCoH,MAAOxH,EAAMM,QAAQK,QAAQH,YAxBrBkW,EA6BhB,kBAAM,QA4BOC,GA1BO,WAAO,IAAD,EACAzU,KAAjB/D,EADiB,oBACjBA,YADiB,EAEgB6D,KAAlCwI,EAFkB,EAElBA,YAAaN,EAFK,EAELA,iBAarB,OAXA3M,qBAAU,WACR,IAAMqZ,EAAcnU,aAAa2G,QAAQrL,GACrC6Y,EACFpM,EAAY1E,KAAKC,MAAM6Q,KAEvBnU,aAAaC,QAAQ3E,EAA2B4E,OAAOuH,IACvDM,EAAYN,MAEb,CAACM,EAAaN,IAIf,kBAAC2M,EAAA,EAAD,CAAgBC,aAAW,GACzB,kBAACC,EAAA,EAAD,CAAe/W,MAAO7B,EAAcqY,GAAYL,IAC9C,kBAACa,EAAA,EAAD,MACA,kBAACP,GAAD,MACA,kBAAC,GAAD,SCxDYQ,QACW,cAA7B9Z,OAAOmC,SAAS4X,UAEe,UAA7B/Z,OAAOmC,SAAS4X,UAEhB/Z,OAAOmC,SAAS4X,SAASC,MACvB,2DCTNC,IAASC,OACP,kBAAC,IAAD,KACE,kBAAC,EAAD,KACE,kBAAC,EAAD,KACE,kBAAC,GAAD,SAINC,SAASC,eAAe,SDwHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,kB","file":"static/js/main.452f4aa0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Spinner_root__30P1U\",\"load6\":\"Spinner_load6__2K9aE\",\"round\":\"Spinner_round__3ZW9V\"};","import React, { useState, useEffect, createContext } from \"react\";\r\n\r\ntype Props = {\r\n  children: React.ReactNode;\r\n};\r\n\r\nexport const WindowWidthContext = createContext(0);\r\n\r\nconst WindowWidthProvider = ({ children }: Props) => {\r\n  const [width, setWidth] = useState(window.innerWidth);\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => setWidth(window.innerWidth);\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <WindowWidthContext.Provider value={width}>\r\n      {children}\r\n    </WindowWidthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default WindowWidthProvider;\r\n","import {\r\n  ISettings,\r\n  IAppStructure,\r\n  IInteractiveActions,\r\n  ILocalStorage\r\n} from \"./types\";\r\n\r\n// export const EXPIRATION_TIMEFRAME = 3660000;\r\nexport const EXPIRATION_TIMEFRAME = 7.2e6;\r\nexport const APP_STRUCTURE: IAppStructure = {\r\n  welcome: \"welcome\",\r\n  forecast: \"forecast\",\r\n  favorites: \"favorites\",\r\n  settings: \"settings\"\r\n};\r\n\r\nexport const INTERACTIVE_ACTIONS: IInteractiveActions = {\r\n  open: \"open\",\r\n  close: \"close\",\r\n  toggle: \"toggle\"\r\n};\r\n\r\nexport const LOCAL_STORAGE: ILocalStorage = {\r\n  isDrawerOpen: \"isDrawerOpen\",\r\n  isThemeDark: \"isThemeDark\",\r\n  weatherForecast: \"weather_forecast_\",\r\n  launchLocation: \"launch_location\"\r\n};\r\n\r\nexport const SETTINGS: ISettings = {\r\n  favorites: [],\r\n  isDrawerOpen: false,\r\n  isThemeDark: false,\r\n  lastLocation: null\r\n};\r\n\r\nexport const DRAWER_BREAKPOINT = \"md\";\r\n\r\n// Styles -------------------------------------\r\nexport const LIST_ITEM_GUTTER_SIZE = \"1rem\";\r\nexport const SVG_ICON_FONT_SIZE = \"1.5rem\";\r\nexport const ACTIVE_LINK_BORDER_SIZE = \"0.375rem\";\r\n\r\n// should be larger than anything in toolbar\r\nexport const TOOLBAR_HEIGHT = \"4rem\";\r\n\r\nexport const SCALING_FACTOR = 0.5;\r\n\r\nexport const drawerIconWidth = `calc(${LIST_ITEM_GUTTER_SIZE} * 2 + ${SVG_ICON_FONT_SIZE})`;\r\nexport const toolbarHeightMin = `calc(${TOOLBAR_HEIGHT} - ${SCALING_FACTOR}rem)`;\r\nexport const listItemIconMinWidth = `calc(${SVG_ICON_FONT_SIZE} * 2)`;\r\n","export const FETCH_INIT = \"FETCH_INIT\";\r\nexport type FETCH_INIT = typeof FETCH_INIT;\r\n\r\nexport const FETCH_SUCCESS = \"FETCH_SUCCESS\";\r\nexport type FETCH_SUCCESS = typeof FETCH_SUCCESS;\r\n\r\nexport const FETCH_FAILURE = \"FETCH_FAILURE\";\r\nexport type FETCH_FAILURE = typeof FETCH_FAILURE;\r\n\r\nexport const OPEN_DRAWER = \"OPEN_DRAWER\";\r\nexport type OPEN_DRAWER = typeof OPEN_DRAWER;\r\n\r\nexport const CLOSE_DRAWER = \"CLOSE_DRAWER\";\r\nexport type CLOSE_DRAWER = typeof CLOSE_DRAWER;\r\n\r\nexport const TURN_ON_DARK_THEME = \"TURN_ON_DARK_THEME\";\r\nexport type TURN_ON_DARK_THEME = typeof TURN_ON_DARK_THEME;\r\n\r\nexport const TURN_OFF_DARK_THEME = \"TURN_OFF_DARK_THEME\";\r\nexport type TURN_OFF_DARK_THEME = typeof TURN_OFF_DARK_THEME;\r\n\r\nexport const ADD_TO_FAVORITES = \"ADD_TO_FAVORITES\";\r\nexport type ADD_TO_FAVORITES = typeof ADD_TO_FAVORITES;\r\n\r\nexport const REMOVE_FROM_FAVORITES = \"REMOVE_FROM_FAVORITES\";\r\nexport type REMOVE_FROM_FAVORITES = typeof REMOVE_FROM_FAVORITES;\r\n\r\nexport const SET_LAST_LOCATION = \"SET_LAST_LOCATION\";\r\nexport type SET_LAST_LOCATION = typeof SET_LAST_LOCATION;\r\n","import {\r\n  OPEN_DRAWER,\r\n  CLOSE_DRAWER,\r\n  TURN_ON_DARK_THEME,\r\n  TURN_OFF_DARK_THEME,\r\n  SET_LAST_LOCATION,\r\n  ADD_TO_FAVORITES,\r\n  REMOVE_FROM_FAVORITES\r\n} from \"../actions\";\r\nimport { ISettings } from \"../types\";\r\n\r\nexport type Action =\r\n  | { type: OPEN_DRAWER }\r\n  | { type: CLOSE_DRAWER }\r\n  | { type: TURN_ON_DARK_THEME }\r\n  | { type: TURN_OFF_DARK_THEME }\r\n  | { type: SET_LAST_LOCATION; lastLocation: string }\r\n  | { type: ADD_TO_FAVORITES; location: string }\r\n  | { type: REMOVE_FROM_FAVORITES; location: string };\r\n\r\nfunction reduceSettings(state: ISettings, action: Action): ISettings {\r\n  switch (action.type) {\r\n    case OPEN_DRAWER: {\r\n      return {\r\n        ...state,\r\n        isDrawerOpen: true\r\n      };\r\n    }\r\n    case CLOSE_DRAWER: {\r\n      return {\r\n        ...state,\r\n        isDrawerOpen: false\r\n      };\r\n    }\r\n    case TURN_ON_DARK_THEME: {\r\n      return {\r\n        ...state,\r\n        isThemeDark: true\r\n      };\r\n    }\r\n    case TURN_OFF_DARK_THEME: {\r\n      return {\r\n        ...state,\r\n        isThemeDark: false\r\n      };\r\n    }\r\n    case SET_LAST_LOCATION: {\r\n      return {\r\n        ...state,\r\n        lastLocation: action.lastLocation\r\n      };\r\n    }\r\n    case ADD_TO_FAVORITES: {\r\n      return {\r\n        ...state,\r\n        favorites: [...state.favorites, action.location]\r\n      };\r\n    }\r\n    case REMOVE_FROM_FAVORITES: {\r\n      return {\r\n        ...state,\r\n        favorites: [\r\n          ...state.favorites.filter(location => action.location !== location)\r\n        ]\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n\r\nexport default reduceSettings;\r\n","import React, { useReducer, createContext, Dispatch } from \"react\";\r\nimport { SETTINGS } from \"../constants\";\r\nimport reduceSettings, { Action } from \"../reducers/reduceSettings\";\r\n\r\ntype Props = {\r\n  children: React.ReactNode;\r\n};\r\n\r\nexport const SettingsContext = createContext(SETTINGS);\r\nexport const SettingsDispatchContext = createContext<Dispatch<Action>>(\r\n  () => {}\r\n);\r\n\r\nconst SettingsProvider = ({ children }: Props) => {\r\n  const [settings, dispatch] = useReducer(reduceSettings, SETTINGS);\r\n\r\n  return (\r\n    <SettingsDispatchContext.Provider value={dispatch}>\r\n      <SettingsContext.Provider value={settings}>\r\n        {children}\r\n      </SettingsContext.Provider>\r\n    </SettingsDispatchContext.Provider>\r\n  );\r\n};\r\n\r\nexport default SettingsProvider;\r\n","import React from \"react\";\r\nimport {\r\n  NavLink as RouterLink,\r\n  LinkProps as RouterLinkProps\r\n} from \"react-router-dom\";\r\n\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport { ACTIVE_LINK_BORDER_SIZE } from \"../../constants\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      borderLeft: `${ACTIVE_LINK_BORDER_SIZE} solid transparent`\r\n    },\r\n    active: {\r\n      borderColor: theme.palette.secondary.main\r\n    }\r\n  })\r\n);\r\n\r\ntype Props = {\r\n  icon?: React.ReactElement;\r\n  primary: string;\r\n  to: string;\r\n};\r\n\r\nconst ListItemLink = ({ icon, primary, to }: Props) => {\r\n  const classes = useStyles();\r\n  const renderLink = React.useMemo(\r\n    () =>\r\n      React.forwardRef<any, Omit<RouterLinkProps, \"to\">>((itemProps, ref) => (\r\n        <RouterLink\r\n          to={`/${to}`}\r\n          ref={ref}\r\n          activeClassName={classes.active}\r\n          {...itemProps}\r\n        />\r\n      )),\r\n    [to, classes.active]\r\n  );\r\n  return (\r\n    <li>\r\n      <ListItem button component={renderLink} className={classes.root}>\r\n        {icon ? <ListItemIcon>{icon}</ListItemIcon> : null}\r\n        <ListItemText primary={primary} />\r\n      </ListItem>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ListItemLink;\r\n","import { useContext } from \"react\";\r\nimport { WindowWidthContext } from \"../providers/WindowWidthProvider\";\r\n\r\nconst useWindowWidth = () => useContext(WindowWidthContext);\r\n\r\nexport default useWindowWidth;\r\n","import { useTheme } from \"@material-ui/core/styles\";\r\nimport useWindowWidth from \"../hooks/useWindowWidth\";\r\n\r\nconst useBreakpoints = (breakpoint: \"xs\" | \"sm\" | \"md\" | \"lg\" | \"xl\") => {\r\n  const breakpoints = useTheme().breakpoints.values;\r\n  const windowWidth = useWindowWidth();\r\n  const doesUIFit = windowWidth >= breakpoints[breakpoint];\r\n  return doesUIFit;\r\n};\r\n\r\nexport default useBreakpoints;\r\n","import { useContext } from \"react\";\r\nimport {\r\n  SettingsContext,\r\n  SettingsDispatchContext\r\n} from \"../providers/SettingsProvider\";\r\n\r\nconst useSettings = () => {\r\n  const settings = useContext(SettingsContext);\r\n  const dispatch = useContext(SettingsDispatchContext);\r\n  return [settings, dispatch] as const;\r\n};\r\n\r\nexport default useSettings;\r\n","import { useCallback } from \"react\";\r\nimport { OPEN_DRAWER, CLOSE_DRAWER } from \"../actions\";\r\nimport useBreakpoints from \"../hooks/useBreakpoints\";\r\nimport useSettings from \"../hooks/useSettings\";\r\nimport { LOCAL_STORAGE, DRAWER_BREAKPOINT } from \"../constants\";\r\n\r\nconst useDrawer = () => {\r\n  const doesDrawerFit = useBreakpoints(DRAWER_BREAKPOINT);\r\n  const [{ isDrawerOpen }, dispatch] = useSettings();\r\n\r\n  const openDrawer = useCallback(() => {\r\n    dispatch({ type: OPEN_DRAWER });\r\n  }, [dispatch]);\r\n\r\n  const closeDrawer = useCallback(() => {\r\n    dispatch({ type: CLOSE_DRAWER });\r\n  }, [dispatch]);\r\n\r\n  const toggleDrawer = useCallback(() => {\r\n    if (doesDrawerFit) {\r\n      localStorage.setItem(LOCAL_STORAGE.isDrawerOpen, String(!isDrawerOpen));\r\n    }\r\n    isDrawerOpen ? closeDrawer() : openDrawer();\r\n  }, [isDrawerOpen, doesDrawerFit, openDrawer, closeDrawer]);\r\n\r\n  const adjustDrawer = useCallback(\r\n    (isDrawerOpen: boolean) => {\r\n      isDrawerOpen ? openDrawer() : closeDrawer();\r\n    },\r\n    [openDrawer, closeDrawer]\r\n  );\r\n\r\n  return {\r\n    doesDrawerFit,\r\n    isDrawerOpen,\r\n    adjustDrawer,\r\n    toggleDrawer,\r\n    openDrawer,\r\n    closeDrawer\r\n  };\r\n};\r\n\r\nexport default useDrawer;\r\n","import { IForecast, ICurrentWeatherData, IGeoLocationData } from \"./types\";\r\nimport { EXPIRATION_TIMEFRAME } from \"./constants\";\r\n\r\nexport const capitalizeFirstChar = (string: string) => {\r\n  return `${string[0].toUpperCase()}${string.slice(1)}`;\r\n};\r\n\r\nexport const checkIfExpired = (requestTime: number) => {\r\n  const currentDate = new Date().getTime();\r\n  const isExpired = currentDate - requestTime > EXPIRATION_TIMEFRAME;\r\n  return isExpired;\r\n};\r\n\r\nexport const fetchLocation = async () => {\r\n  try {\r\n    const response = await fetch(`https://get.geojs.io/v1/ip/geo.json`);\r\n    if (!response.ok) return null;\r\n    const data: IGeoLocationData = await response.json();\r\n    const city = data.city.toLowerCase();\r\n    return city;\r\n  } catch (error) {\r\n    console.error(\"There has been a problem with your fetch operation:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const fetchForecast = async (queriedCity: string) => {\r\n  try {\r\n    const OPENWEATHERMAP_KEY = process.env.REACT_APP_OPENWEATHERMAP_KEY;\r\n    const url = `https://api.openweathermap.org/data/2.5/weather?q=${queriedCity}`;\r\n    const updatedUrl = `${url}&appid=${OPENWEATHERMAP_KEY}&units=metric`;\r\n    const response = await fetch(updatedUrl);\r\n    if (!response.ok) return null;\r\n    const data: ICurrentWeatherData = await response.json();\r\n\r\n    const forecast: IForecast = {\r\n      currentWeather: {\r\n        city: data.name,\r\n        condition: data.weather[0].main,\r\n        country: data.sys.country,\r\n        temperature: Math.round(data.main.temp),\r\n        cloudiness: data.clouds.all,\r\n        windSpeed: data.wind.speed,\r\n        pressure: data.main.pressure,\r\n        humidity: data.main.humidity\r\n      },\r\n      requestTime: new Date().getTime()\r\n    };\r\n    storeWeather(queriedCity, forecast);\r\n    return forecast;\r\n  } catch (error) {\r\n    console.error(\"There has been a problem with your fetch operation:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const getExpirationTimeframe = (requestTime: number) => {\r\n  return EXPIRATION_TIMEFRAME - (new Date().getTime() - requestTime);\r\n};\r\n\r\nexport const getLaunchLocation = async () => {\r\n  const launchLocation = await fetchLocation();\r\n  if (!launchLocation) return null;\r\n  localStorage.setItem(\"launch_location\", launchLocation);\r\n  return launchLocation;\r\n};\r\n\r\nexport const getReadableRequestTime = (requestTime: number) => {\r\n  const currentYear = new Date().getFullYear();\r\n  const requestYear = new Date(requestTime).getFullYear();\r\n  const time = sliceSplittedString(\r\n    new Date(requestTime).toTimeString(),\r\n    \" \",\r\n    0,\r\n    1\r\n  ).slice(0, 5);\r\n  const date = new Date(requestTime).toDateString();\r\n\r\n  if (currentYear === requestYear) {\r\n    const currentDay = new Date().getDate();\r\n    const requestDay = new Date(requestTime).getDate();\r\n\r\n    if (currentDay === requestDay) {\r\n      return time;\r\n    } else if (currentDay - 1 === requestDay) {\r\n      return `Yesterday, ${time}`;\r\n    } else {\r\n      return `${sliceSplittedString(date, \" \", 1, 3)}, ${time}`;\r\n    }\r\n  } else {\r\n    return `${sliceSplittedString(date, \" \", 1)}, ${time}`;\r\n  }\r\n};\r\n\r\nexport const getRemainingTime = (milliseconds: number) => {\r\n  milliseconds += 60000;\r\n  const hours = Math.floor((milliseconds / 3600000) % 60);\r\n  const minutes = Math.floor((milliseconds / 60000) % 60);\r\n  // const seconds = Math.floor((milliseconds / 1000) % 60);\r\n  if (hours > 0) {\r\n    return `${hours}h ${minutes}m`;\r\n  } else {\r\n    return `${minutes}m`;\r\n  }\r\n};\r\n\r\nexport const removeExpiredWeather = (city: string) => {\r\n  for (let key in localStorage) {\r\n    if (key.includes(\"weather\") && !key.includes(city)) {\r\n      const requestTime: number = JSON.parse(localStorage[key]).requestTime;\r\n      if (checkIfExpired(requestTime)) {\r\n        localStorage.removeItem(key);\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nexport const sliceSplittedString = (\r\n  string: string,\r\n  separator: string,\r\n  beginIndex: number,\r\n  endIndex?: number\r\n) => {\r\n  return string\r\n    .split(separator)\r\n    .slice(beginIndex, endIndex)\r\n    .join(separator);\r\n};\r\n\r\nexport const storeWeather = (city: string, weather: object) => {\r\n  localStorage.setItem(`weather_forecast_${city}`, JSON.stringify(weather));\r\n};\r\n","import React from \"react\";\r\n\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\nimport {\r\n  drawerIconWidth,\r\n  toolbarHeightMin,\r\n  INTERACTIVE_ACTIONS\r\n} from \"../../constants\";\r\nimport useDrawer from \"../../hooks/useDrawer\";\r\nimport { capitalizeFirstChar } from \"../../utils\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      backgroundColor: theme.palette.background.paper,\r\n      alignSelf: \"stretch\",\r\n      display: \"flex\",\r\n      width: drawerIconWidth,\r\n      minHeight: toolbarHeightMin\r\n    },\r\n    button: {\r\n      width: \"100%\"\r\n    }\r\n  })\r\n);\r\n\r\ntype Props = {\r\n  className?: string;\r\n  action?: \"close\" | \"toggle\";\r\n};\r\n\r\nconst { toggle, close } = INTERACTIVE_ACTIONS;\r\n\r\nconst DrawerButton = ({ action = toggle, ...other }: Props) => {\r\n  const classes = useStyles();\r\n  const { toggleDrawer, closeDrawer } = useDrawer();\r\n\r\n  let handleClick = toggleDrawer;\r\n  let label = \" Drawer\";\r\n  let icon = <MenuIcon />;\r\n\r\n  switch (action) {\r\n    case toggle: {\r\n      label = capitalizeFirstChar(toggle) + label;\r\n      break;\r\n    }\r\n    case close: {\r\n      label = capitalizeFirstChar(close) + label;\r\n      handleClick = closeDrawer;\r\n      icon = <CloseIcon />;\r\n      break;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Tooltip title={label}>\r\n        <IconButton\r\n          aria-label={label}\r\n          color=\"inherit\"\r\n          classes={{ root: classes.button }}\r\n          onClick={handleClick}\r\n          {...other}\r\n        >\r\n          {icon}\r\n        </IconButton>\r\n      </Tooltip>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DrawerButton;\r\n","import React, { useEffect } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport List from \"@material-ui/core/List\";\r\n\r\nimport HomeOutlinedIcon from \"@material-ui/icons/HomeOutlined\";\r\nimport StarBorderIcon from \"@material-ui/icons/StarBorder\";\r\nimport SettingsOutlinedIcon from \"@material-ui/icons/SettingsOutlined\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\n\r\nimport ListItemLink from \"../ListItemLink/ListItemLink\";\r\nimport DrawerButton from \"../DrawerButton/DrawerButton\";\r\nimport useDrawer from \"../../hooks/useDrawer\";\r\n\r\nimport {\r\n  TOOLBAR_HEIGHT,\r\n  drawerIconWidth,\r\n  APP_STRUCTURE,\r\n  listItemIconMinWidth,\r\n  ACTIVE_LINK_BORDER_SIZE,\r\n  LIST_ITEM_GUTTER_SIZE,\r\n  LOCAL_STORAGE,\r\n  SETTINGS,\r\n  DRAWER_BREAKPOINT\r\n} from \"../../constants\";\r\nimport { capitalizeFirstChar } from \"../../utils\";\r\n\r\nconst DRAWER_WIDTH = \"13rem\";\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: DRAWER_WIDTH,\r\n      flexShrink: 0,\r\n      whiteSpace: \"nowrap\",\r\n      \"& .MuiListItemIcon-root\": {\r\n        [theme.breakpoints.down(\"xs\")]: {\r\n          minWidth: `calc(${listItemIconMinWidth} - 0.5rem)`\r\n        }\r\n      },\r\n      \"& .MuiListItem-gutters\": {\r\n        paddingLeft: `calc(${LIST_ITEM_GUTTER_SIZE} - ${ACTIVE_LINK_BORDER_SIZE})`,\r\n        paddingRight: `calc(${LIST_ITEM_GUTTER_SIZE} + 2rem)`\r\n      }\r\n    },\r\n    isOpen: {\r\n      [theme.breakpoints.up(DRAWER_BREAKPOINT)]: {\r\n        transition: theme.transitions.create(\"width\", {\r\n          easing: theme.transitions.easing.sharp,\r\n          duration: theme.transitions.duration.enteringScreen\r\n        }),\r\n        width: DRAWER_WIDTH\r\n      }\r\n    },\r\n    isClosed: {\r\n      transition: theme.transitions.create(\"width\", {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen\r\n      }),\r\n      overflowX: \"hidden\",\r\n      width: drawerIconWidth\r\n    },\r\n    toolbar: {\r\n      display: \"flex\",\r\n      justifyContent: \"flex-end\"\r\n    },\r\n    list: {\r\n      [theme.breakpoints.up(DRAWER_BREAKPOINT)]: {\r\n        height: `calc(100vh - ${TOOLBAR_HEIGHT})`,\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"space-between\"\r\n      }\r\n    },\r\n    paper: {\r\n      top: TOOLBAR_HEIGHT\r\n    }\r\n  })\r\n);\r\n\r\nconst AppDrawer = () => {\r\n  const classes = useStyles();\r\n  const {\r\n    doesDrawerFit,\r\n    isDrawerOpen,\r\n    adjustDrawer,\r\n    openDrawer,\r\n    closeDrawer\r\n  } = useDrawer();\r\n\r\n  useEffect(() => {\r\n    if (doesDrawerFit) {\r\n      const storedDrawer = localStorage.getItem(LOCAL_STORAGE.isDrawerOpen);\r\n      if (storedDrawer) {\r\n        adjustDrawer(JSON.parse(storedDrawer));\r\n      } else {\r\n        localStorage.setItem(\r\n          LOCAL_STORAGE.isDrawerOpen,\r\n          String(SETTINGS.isDrawerOpen)\r\n        );\r\n        adjustDrawer(SETTINGS.isDrawerOpen);\r\n      }\r\n    } else closeDrawer();\r\n  }, [adjustDrawer, openDrawer, closeDrawer, doesDrawerFit]);\r\n\r\n  let handleClose: (() => void) | undefined = closeDrawer;\r\n  let drawerVariant: \"temporary\" | \"permanent\" = \"temporary\";\r\n  if (doesDrawerFit) {\r\n    handleClose = undefined;\r\n    drawerVariant = \"permanent\";\r\n  }\r\n\r\n  let styledDrawer = clsx(classes.root, classes.isOpen);\r\n  let styledPaper = classes.isOpen;\r\n  if (doesDrawerFit) {\r\n    styledDrawer = clsx(classes.root, {\r\n      [classes.isOpen]: isDrawerOpen,\r\n      [classes.isClosed]: !isDrawerOpen\r\n    });\r\n    styledPaper = clsx(classes.paper, {\r\n      [classes.isOpen]: isDrawerOpen,\r\n      [classes.isClosed]: !isDrawerOpen\r\n    });\r\n  }\r\n\r\n  // console.log(\"drawer\");\r\n  return (\r\n    <Drawer\r\n      onClose={handleClose}\r\n      variant={drawerVariant}\r\n      open={isDrawerOpen}\r\n      className={styledDrawer}\r\n      classes={{\r\n        paper: styledPaper\r\n      }}\r\n    >\r\n      {!doesDrawerFit && (\r\n        <>\r\n          <div className={classes.toolbar}>\r\n            <DrawerButton action=\"close\" />\r\n          </div>\r\n          <Divider />\r\n        </>\r\n      )}\r\n      <List disablePadding className={classes.list} onClick={handleClose}>\r\n        <div>\r\n          <ListItemLink\r\n            icon={<HomeOutlinedIcon />}\r\n            primary={capitalizeFirstChar(APP_STRUCTURE.forecast)}\r\n            to={APP_STRUCTURE.forecast}\r\n          />\r\n          <ListItemLink\r\n            icon={<StarBorderIcon />}\r\n            primary={capitalizeFirstChar(APP_STRUCTURE.favorites)}\r\n            to={APP_STRUCTURE.favorites}\r\n          />\r\n        </div>\r\n        <div>\r\n          <Divider />\r\n          <ListItemLink\r\n            icon={<SettingsOutlinedIcon />}\r\n            primary={capitalizeFirstChar(APP_STRUCTURE.settings)}\r\n            to={APP_STRUCTURE.settings}\r\n          />\r\n        </div>\r\n      </List>\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nexport default AppDrawer;\r\n","import { useCallback } from \"react\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n\r\nimport useSettings from \"../hooks/useSettings\";\r\nimport { TURN_ON_DARK_THEME, TURN_OFF_DARK_THEME } from \"../actions\";\r\nimport { LOCAL_STORAGE } from \"../constants\";\r\n\r\nconst useTheme = () => {\r\n  const [{ isThemeDark }, dispatch] = useSettings();\r\n  const prefersDarkTheme = useMediaQuery(\"(prefers-color-scheme: dark)\", {\r\n    noSsr: true\r\n  });\r\n\r\n  const turnOnDarkTheme = useCallback(() => {\r\n    dispatch({ type: TURN_ON_DARK_THEME });\r\n  }, [dispatch]);\r\n\r\n  const turnOffDarkTheme = useCallback(() => {\r\n    dispatch({ type: TURN_OFF_DARK_THEME });\r\n  }, [dispatch]);\r\n\r\n  const toggleTheme = useCallback(() => {\r\n    localStorage.setItem(LOCAL_STORAGE.isThemeDark, String(!isThemeDark));\r\n    isThemeDark ? turnOffDarkTheme() : turnOnDarkTheme();\r\n  }, [turnOnDarkTheme, turnOffDarkTheme, isThemeDark]);\r\n\r\n  const adjustTheme = useCallback(\r\n    (isThemeDark: boolean) => {\r\n      isThemeDark\r\n        ? dispatch({ type: TURN_ON_DARK_THEME })\r\n        : dispatch({ type: TURN_OFF_DARK_THEME });\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  return { isThemeDark, prefersDarkTheme, toggleTheme, adjustTheme };\r\n};\r\n\r\nexport default useTheme;\r\n","import React from \"react\";\r\n\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Brightness2Icon from \"@material-ui/icons/Brightness2\";\r\nimport WbSunnyIcon from \"@material-ui/icons/WbSunny\";\r\nimport useTheme from \"../../hooks/useTheme\";\r\n\r\nconst ThemeToggle = () => {\r\n  const { isThemeDark, toggleTheme } = useTheme();\r\n  const label = `Turn ${isThemeDark ? \"Off\" : \"On\"} Dark Theme`;\r\n\r\n  return (\r\n    <Tooltip title={label}>\r\n      <IconButton aria-label={label} color=\"inherit\" onClick={toggleTheme}>\r\n        {isThemeDark ? <WbSunnyIcon /> : <Brightness2Icon />}\r\n      </IconButton>\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nexport default ThemeToggle;\r\n","import React from \"react\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport ThemeToggle from \"../../components/ThemeToggle/ThemeToggle\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      justifyContent: \"flex-end\",\r\n      \"& > *:not(:last-child)\": {\r\n        marginRight: theme.spacing(0.5)\r\n      }\r\n    }\r\n  })\r\n);\r\n\r\nexport type ToolbarButtonsProps = {\r\n  refresh?: JSX.Element;\r\n  favor?: JSX.Element;\r\n};\r\n\r\ntype Props = {} & ToolbarButtonsProps;\r\n\r\nconst ToolbarButtons = ({ refresh, favor }: Props) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.root}>\r\n      {refresh}\r\n      {favor}\r\n      <ThemeToggle />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ToolbarButtons;\r\n","import React from \"react\";\r\n\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport DrawerButton from \"../DrawerButton/DrawerButton\";\r\nimport ToolbarButtons, {\r\n  ToolbarButtonsProps\r\n} from \"../ToolbarButtons/ToolbarButtons\";\r\n\r\nimport { toolbarHeightMin } from \"../../constants\";\r\nimport { capitalizeFirstChar } from \"../../utils\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      backgroundColor: theme.palette.background.paper,\r\n      zIndex: theme.zIndex.drawer + 1,\r\n      \"& h1\": {\r\n        [theme.breakpoints.up(\"sm\")]: {\r\n          fontSize: \"2rem\"\r\n        }\r\n      },\r\n      \"& .MuiIconButton-root\": {\r\n        [theme.breakpoints.up(\"sm\")]: {\r\n          fontSize: \"1.5rem\"\r\n        }\r\n      }\r\n    },\r\n    toolbar: {\r\n      paddingRight: theme.spacing(1),\r\n      [theme.breakpoints.down(\"xs\")]: {\r\n        minHeight: toolbarHeightMin\r\n      },\r\n      [theme.breakpoints.up(\"sm\")]: {\r\n        paddingRight: theme.spacing(2)\r\n      }\r\n    },\r\n    title: {\r\n      flexGrow: 1,\r\n      marginLeft: theme.spacing(1),\r\n      [theme.breakpoints.up(\"sm\")]: {\r\n        marginLeft: theme.spacing(2)\r\n      }\r\n    }\r\n  })\r\n);\r\n\r\ntype Props = {\r\n  search?: JSX.Element;\r\n  heading?: string;\r\n} & ToolbarButtonsProps;\r\n\r\nconst AppHeader = ({ heading, search, ...other }: Props) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <AppBar className={classes.root}>\r\n      <Toolbar\r\n        disableGutters\r\n        variant=\"dense\"\r\n        classes={{ root: classes.toolbar }}\r\n      >\r\n        <DrawerButton />\r\n        <Typography variant=\"h1\" className={classes.title}>\r\n          {heading && capitalizeFirstChar(heading)}\r\n        </Typography>\r\n        {search}\r\n        <ToolbarButtons {...other} />\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nexport default AppHeader;\r\n","import React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport styles from \"./Spinner.module.scss\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      color: theme.palette.secondary.main,\r\n      fontSize: \"5.6rem\",\r\n      textIndent: \"-9999em\",\r\n      overflow: \"hidden\",\r\n      width: \"1em\",\r\n      height: \"1em\",\r\n      borderRadius: \"50%\",\r\n      margin: \"0.8em auto\"\r\n    }\r\n  })\r\n);\r\n\r\ntype Props = {\r\n  className?: string;\r\n};\r\n\r\nconst Spinner = ({ className }: Props) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={clsx(styles.root, classes.root, className)}>Loading...</div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport ErrorOutlineIcon from \"@material-ui/icons/ErrorOutline\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      alignSelf: \"center\",\r\n      width: \"25rem\",\r\n      \"& > svg\": {\r\n        fontSize: \"2rem\",\r\n        marginRight: theme.spacing(1)\r\n      }\r\n    },\r\n    errorBorder: {\r\n      padding: \"1em\",\r\n      boxShadow: `0 0 0 1px ${theme.palette.primary.contrastText}`\r\n    }\r\n  })\r\n);\r\n\r\nexport type ErrorProps = {\r\n  errorStyles?: string;\r\n  disableErrorBorder?: boolean;\r\n};\r\n\r\ntype Props = {\r\n  children: React.ReactNode;\r\n} & ErrorProps;\r\n\r\nconst Error = ({\r\n  children,\r\n  errorStyles,\r\n  disableErrorBorder = false\r\n}: Props) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div\r\n      className={clsx(\r\n        classes.root,\r\n        errorStyles,\r\n        !disableErrorBorder && classes.errorBorder\r\n      )}\r\n    >\r\n      <ErrorOutlineIcon />\r\n      <p>{children}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Error;\r\n","import React from \"react\";\r\nimport Spinner from \"../Spinner/Spinner\";\r\nimport Error, { ErrorProps } from \"../Error/Error\";\r\n\r\ntype Props = {\r\n  children: React.ReactNode;\r\n  spinnerStyles?: string;\r\n  errorMessage: string;\r\n  isLoading: boolean;\r\n  isError: boolean;\r\n  displayContent?: boolean;\r\n} & ErrorProps;\r\n\r\nconst DataLoader = ({\r\n  children,\r\n  spinnerStyles,\r\n  isLoading,\r\n  errorMessage,\r\n  isError,\r\n  displayContent = false,\r\n  ...other\r\n}: Props) => {\r\n  let rendered: React.ReactNode;\r\n  if (isLoading) {\r\n    rendered = <Spinner className={spinnerStyles} />;\r\n  } else {\r\n    if (displayContent && isError) {\r\n      rendered = (\r\n        <>\r\n          <Error {...other}>{errorMessage}</Error>\r\n          {children}\r\n        </>\r\n      );\r\n    } else if (isError) {\r\n      rendered = <Error {...other}>{errorMessage}</Error>;\r\n    } else {\r\n      rendered = children;\r\n    }\r\n  }\r\n\r\n  return <>{rendered}</>;\r\n};\r\n\r\nexport default DataLoader;\r\n","import React from \"react\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport AppHeader from \"../../components/AppHeader/AppHeader\";\r\nimport DataLoader from \"../../components/DataLoader/DataLoader\";\r\nimport { APP_STRUCTURE } from \"../../constants\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n      width: \"100%\",\r\n      marginTop: \"1rem\",\r\n      \"& form\": {\r\n        marginRight: \"0\"\r\n      }\r\n    }\r\n  })\r\n);\r\n\r\nexport type WelcomeProps = {\r\n  isLoading: boolean;\r\n  isError: boolean;\r\n};\r\n\r\ntype Props = {\r\n  search: JSX.Element;\r\n} & WelcomeProps;\r\n\r\nconst Welcome = ({ search, isLoading, isError }: Props) => {\r\n  const classes = useStyles();\r\n  // console.log(\"welcome\");\r\n  return (\r\n    <>\r\n      <AppHeader heading={APP_STRUCTURE.forecast} />\r\n      <DataLoader\r\n        isLoading={isLoading}\r\n        isError={isError}\r\n        displayContent\r\n        errorMessage={`We couldn't find your city automatically,\r\n         you can still look for it manually.`}\r\n      >\r\n        <div className={classes.root}>{search}</div>\r\n      </DataLoader>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Welcome;\r\n","import React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      fontWeight: \"lighter\",\r\n      position: \"relative\",\r\n      letterSpacing: \"0px\",\r\n      fontSize: \"5rem\",\r\n      paddingRight: theme.spacing(7.5),\r\n      lineHeight: \"0.85em\",\r\n      \"& span\": {\r\n        position: \"absolute\",\r\n        top: \"0\",\r\n        right: \"0\",\r\n        fontSize: \"0.7em\",\r\n        lineHeight: \"0.9em\"\r\n      }\r\n    }\r\n  })\r\n);\r\n\r\ntype Props = {\r\n  children?: React.ReactNode;\r\n  className?: string;\r\n  temperature: number;\r\n};\r\n\r\nconst Temperature = ({ children, className, temperature }: Props) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <p className={clsx(classes.root, className)}>\r\n      {temperature}\r\n      <span>&deg;{children}</span>\r\n    </p>\r\n  );\r\n};\r\n\r\nexport default Temperature;\r\n","import React from \"react\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n// import IconButton from \"@material-ui/core/IconButton\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport Temperature from \"../Temperature/Temperature\";\r\nimport { ICurrentWeather } from \"../../types\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      margin: \"0 auto\",\r\n      textAlign: \"center\",\r\n      maxWidth: \"24rem\",\r\n      \"& > div:first-of-type\": {\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        marginBottom: theme.spacing(0.5)\r\n      },\r\n      \"& > p:first-of-type\": {\r\n        fontWeight: \"lighter\",\r\n        fontSize: \"1.5rem\",\r\n        marginBottom: theme.spacing(0.5)\r\n      },\r\n      \"& ul\": {\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        flexWrap: \"wrap\",\r\n        \"& li:not(:last-child)\": {\r\n          marginRight: \"1em\"\r\n        }\r\n      }\r\n    },\r\n    scales: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      marginLeft: \"1em\",\r\n      \"& button\": {\r\n        border: \"1px solid orange\",\r\n        fontSize: \"1.2rem\",\r\n        padding: \"0.3em\"\r\n      }\r\n    }\r\n  })\r\n);\r\n\r\ntype Props = {\r\n  data: ICurrentWeather;\r\n  timer: JSX.Element;\r\n};\r\n\r\nconst CurrentWeather = ({ data, timer }: Props) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <section className={classes.root}>\r\n      <Typography variant=\"h2\">\r\n        {data.city}, {data.country}\r\n      </Typography>\r\n      <div>\r\n        <Temperature temperature={data.temperature}>C</Temperature>\r\n        {/* <div className={classes.scales}>\r\n              <IconButton aria-label=\"Convert to celsius\" color=\"inherit\">\r\n                C\r\n              </IconButton>\r\n              <IconButton aria-label=\"Convert to fahrenheit\" color=\"inherit\">\r\n                F\r\n              </IconButton>\r\n            </div> */}\r\n      </div>\r\n      <p>{data.condition}</p>\r\n      {timer}\r\n      <ul>\r\n        <li>Cloudiness: {data.cloudiness}%</li>\r\n        <li>Wind: {data.windSpeed} m/s</li>\r\n        <li>Pressure: {data.pressure} mb</li>\r\n        <li>Humidity: {data.humidity}%</li>\r\n      </ul>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default CurrentWeather;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport StarIcon from \"@material-ui/icons/Star\";\r\nimport StarBorderIcon from \"@material-ui/icons/StarBorder\";\r\nimport { ADD_TO_FAVORITES, REMOVE_FROM_FAVORITES } from \"../../actions\";\r\nimport useSettings from \"../../hooks/useSettings\";\r\n\r\nexport type FavorProps = {\r\n  lastLocation: string;\r\n};\r\n\r\ntype Props = {} & FavorProps;\r\n\r\nconst Favor = ({ lastLocation }: Props) => {\r\n  const [isFavorite, setIsFavorite] = useState(false);\r\n  const [{ favorites }, dispatch] = useSettings();\r\n\r\n  const addToFavorites = () => {\r\n    dispatch({ type: ADD_TO_FAVORITES, location: lastLocation });\r\n  };\r\n\r\n  const removeFromFavorites = () => {\r\n    dispatch({ type: REMOVE_FROM_FAVORITES, location: lastLocation });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setIsFavorite(favorites.includes(lastLocation));\r\n  }, [favorites, lastLocation]);\r\n\r\n  const label = isFavorite ? \"Remove from Favorites\" : \"Add to Favorites\";\r\n  // console.log(lastLocation, favorites);\r\n  return (\r\n    <Tooltip title={label}>\r\n      <IconButton\r\n        aria-label={label}\r\n        color=\"inherit\"\r\n        onClick={isFavorite ? removeFromFavorites : addToFavorites}\r\n      >\r\n        {isFavorite ? <StarIcon /> : <StarBorderIcon />}\r\n      </IconButton>\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nexport default Favor;\r\n","import React from \"react\";\r\nimport { TSetBoolean } from \"../types\";\r\n\r\nconst useTimer = (\r\n  expirationTimeframe: number,\r\n  setRefreshIsDisabled: TSetBoolean\r\n) => {\r\n  const [timer, setTimer] = React.useState(expirationTimeframe);\r\n\r\n  React.useEffect(() => {\r\n    if (expirationTimeframe >= 1000) {\r\n      // console.log(\"test\");\r\n      setTimer(expirationTimeframe);\r\n      setRefreshIsDisabled(true);\r\n    }\r\n  }, [expirationTimeframe, setRefreshIsDisabled]);\r\n\r\n  React.useEffect(() => {\r\n    const timerTimeout = setTimeout(() => {\r\n      if (timer >= 1000) {\r\n        setTimer(timer => timer - 1000);\r\n        // console.log(\"count\");\r\n      } else {\r\n        setRefreshIsDisabled(false);\r\n        // console.log(\"end\");\r\n      }\r\n      // console.log(\"timer\");\r\n    }, 1000);\r\n    return () => clearTimeout(timerTimeout);\r\n  }, [timer, setRefreshIsDisabled]);\r\n\r\n  // console.log(expirationTimeframe, timer);\r\n  return timer;\r\n};\r\n\r\nexport default useTimer;\r\n","import React from \"react\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport { getRemainingTime, getReadableRequestTime } from \"../../utils\";\r\nimport { TSetBoolean } from \"../../types\";\r\nimport useTimer from \"../../hooks/useTimer\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      marginBottom: theme.spacing(1.5),\r\n      \"& > p\": {\r\n        fontSize: \"0.9rem\",\r\n        marginBottom: theme.spacing(0.5),\r\n        \"&\": {\r\n          fontWeight: \"500\"\r\n        }\r\n      }\r\n    }\r\n  })\r\n);\r\n\r\ntype Props = {\r\n  expirationTimeframe: number;\r\n  setRefreshIsDisabled: TSetBoolean;\r\n  requestTime: number;\r\n};\r\n\r\nconst Timer = ({\r\n  expirationTimeframe,\r\n  setRefreshIsDisabled,\r\n  requestTime\r\n}: Props) => {\r\n  const classes = useStyles();\r\n  const timer = useTimer(expirationTimeframe, setRefreshIsDisabled);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <p>Updated as of {getReadableRequestTime(requestTime)}.</p>\r\n      <p>\r\n        Refresh{\" \"}\r\n        {timer >= 1000\r\n          ? `will be available in: ${getRemainingTime(timer)}.`\r\n          : \"is available!\"}\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Timer;\r\n","import React from \"react\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\r\n\r\ntype Props = {\r\n  onClick: () => void;\r\n  disabled: boolean;\r\n} & typeof defaultProps;\r\n\r\nconst defaultProps = {\r\n  label: \"Refresh\"\r\n};\r\n\r\nconst Refresh = ({ label, ...other }: Props) => {\r\n  return (\r\n    <Tooltip title={label}>\r\n      <span>\r\n        <IconButton aria-label={label} color=\"inherit\" {...other}>\r\n          <RefreshIcon />\r\n        </IconButton>\r\n      </span>\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nRefresh.defaultProps = defaultProps;\r\nexport default Refresh;\r\n","import React, { useState } from \"react\";\r\nimport Refresh from \"../components/Refresh/Refresh\";\r\n\r\nconst useRefresh = (isDataFetched: boolean, onClick: () => void) => {\r\n  const [refreshIsDisabled, setRefreshIsDisabled] = useState(true);\r\n  const refresh = <Refresh onClick={onClick} disabled={refreshIsDisabled} />;\r\n  if (isDataFetched) {\r\n    return [setRefreshIsDisabled, refresh] as const;\r\n  } else {\r\n    return [setRefreshIsDisabled] as const;\r\n  }\r\n};\r\n\r\nexport default useRefresh;\r\n","import React, { useEffect } from \"react\";\r\n\r\nimport CurrentWeather from \"../../components/CurrentWeather/CurrentWeather\";\r\nimport AppHeader from \"../../components/AppHeader/AppHeader\";\r\nimport DataLoader from \"../../components/DataLoader/DataLoader\";\r\nimport Favor, { FavorProps } from \"../../components/Favor/Favor\";\r\nimport Timer from \"../../components/Timer/Timer\";\r\nimport { getExpirationTimeframe } from \"../../utils\";\r\nimport useRefresh from \"../../hooks/useRefresh\";\r\nimport { State } from \"../../reducers/reduceFetch\";\r\nimport { APP_STRUCTURE } from \"../../constants\";\r\nimport { TGetData, IForecast } from \"../../types\";\r\nimport { capitalizeFirstChar } from \"../../utils\";\r\n\r\ntype Props = {\r\n  getForecast: TGetData;\r\n  forecast: State<IForecast>;\r\n  search: JSX.Element;\r\n} & FavorProps;\r\n\r\nconst Forecast = ({ lastLocation, search, forecast, getForecast }: Props) => {\r\n  const { data, isLoading, isError } = forecast;\r\n  const [setRefreshIsDisabled, refresh] = useRefresh(!!data, () =>\r\n    getForecast(lastLocation)\r\n  );\r\n  const favor = data ? <Favor lastLocation={lastLocation} /> : undefined;\r\n\r\n  useEffect(() => {\r\n    getForecast(lastLocation);\r\n  }, [getForecast, lastLocation]);\r\n\r\n  // console.log(\"forecast\");\r\n  return (\r\n    <>\r\n      <AppHeader\r\n        heading={APP_STRUCTURE.forecast}\r\n        refresh={refresh}\r\n        favor={favor}\r\n        search={search}\r\n      />\r\n      <DataLoader\r\n        isLoading={isLoading}\r\n        isError={isError}\r\n        errorMessage={`We couldn't find ${capitalizeFirstChar(\r\n          lastLocation\r\n        )}. Please, check if the name is correct or try again later.`}\r\n      >\r\n        {data && (\r\n          <CurrentWeather\r\n            data={data.currentWeather}\r\n            timer={\r\n              <Timer\r\n                expirationTimeframe={getExpirationTimeframe(data.requestTime)}\r\n                setRefreshIsDisabled={setRefreshIsDisabled}\r\n                requestTime={data.requestTime}\r\n              />\r\n            }\r\n          />\r\n        )}\r\n      </DataLoader>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Forecast;\r\n","import React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport { TFormEvent } from \"../../types\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      backgroundColor: theme.palette.primary.light,\r\n      display: \"flex\",\r\n      boxShadow: `0 0 0 1px ${theme.palette.primary.contrastText}`\r\n    }\r\n  })\r\n);\r\n\r\ntype Props = {\r\n  children: React.ReactNode;\r\n  className?: string;\r\n  onSubmit?: TFormEvent;\r\n};\r\n\r\nconst Form = ({ children, className, onSubmit }: Props) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <form className={clsx(classes.root, className)} onSubmit={onSubmit}>\r\n      {children}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import React, { forwardRef } from \"react\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\n\r\nimport { TButton } from \"../../types\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      marginLeft: \"3px\"\r\n    }\r\n  })\r\n);\r\n\r\nexport type InputButtonProps = {\r\n  label: string;\r\n  type?: \"submit\";\r\n  onClick?: () => void;\r\n};\r\n\r\ntype Props = {\r\n  children: React.ReactNode;\r\n} & InputButtonProps;\r\n\r\nconst InputButton = forwardRef<TButton, Props>(\r\n  ({ children, label, ...other }, ref) => {\r\n    const classes = useStyles();\r\n    return (\r\n      <Tooltip title={label}>\r\n        <IconButton\r\n          aria-label={label}\r\n          color=\"inherit\"\r\n          ref={ref}\r\n          {...other}\r\n          className={classes.root}\r\n        >\r\n          {children}\r\n        </IconButton>\r\n      </Tooltip>\r\n    );\r\n  }\r\n);\r\n\r\nexport default InputButton;\r\n","import React, { forwardRef } from \"react\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport InputButton, { InputButtonProps } from \"../InputButton/InputButton\";\r\nimport { TButton } from \"../../types\";\r\n\r\ntype Props = {} & InputButtonProps;\r\n\r\nconst SearchButton = forwardRef<TButton, Props>(function SearchButton(\r\n  { ...other },\r\n  ref\r\n) {\r\n  return (\r\n    <InputButton ref={ref} {...other}>\r\n      <SearchIcon />\r\n    </InputButton>\r\n  );\r\n});\r\n\r\nexport default SearchButton;\r\n","import React, { forwardRef } from \"react\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport { TInput, TChangeInput } from \"../../types\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      color: theme.palette.primary.contrastText,\r\n      backgroundColor: \"transparent\",\r\n      border: \"none\",\r\n      fontSize: \"0.9rem\",\r\n      padding: \"1em 0.8em\",\r\n      width: \"100%\",\r\n      \"&:focus\": {\r\n        boxShadow: `0 0 0 .2rem ${theme.palette.action.active}`\r\n      }\r\n    }\r\n  })\r\n);\r\n\r\nexport type InputFieldProps = {\r\n  value?: string;\r\n  name?: string;\r\n  onBlur?: () => void;\r\n};\r\n\r\ntype Props = {\r\n  placeholder: string;\r\n  type?: \"text\" | \"search\";\r\n  onChange?: TChangeInput;\r\n} & InputFieldProps;\r\n\r\nconst InputField = forwardRef<TInput, Props>(function InputField(\r\n  { value, name, type = \"text\", onBlur, onChange, placeholder },\r\n  ref\r\n) {\r\n  const classes = useStyles();\r\n  return (\r\n    <input\r\n      ref={ref}\r\n      value={value}\r\n      name={name}\r\n      onChange={onChange}\r\n      placeholder={placeholder}\r\n      type={type}\r\n      onBlur={onBlur}\r\n      className={classes.root}\r\n    />\r\n  );\r\n});\r\n\r\nexport default InputField;\r\n","import React, { forwardRef } from \"react\";\r\nimport InputField, { InputFieldProps } from \"../InputField/InputField\";\r\nimport { TSetString, TInput, TChangeInput } from \"../../types\";\r\n\r\ntype Props = {\r\n  setSearchQuery: TSetString;\r\n} & InputFieldProps;\r\n\r\nconst SearchField = forwardRef<TInput, Props>(function SearchField(\r\n  { setSearchQuery, ...other },\r\n  ref\r\n) {\r\n  const handleChange: TChangeInput = event => {\r\n    const query = event.currentTarget.value;\r\n    setSearchQuery(query);\r\n  };\r\n\r\n  return (\r\n    <InputField\r\n      ref={ref}\r\n      type=\"search\"\r\n      placeholder=\"Search\"\r\n      onChange={handleChange}\r\n      {...other}\r\n    />\r\n  );\r\n});\r\n\r\nexport default SearchField;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\n\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\nimport Form from \"../Form/Form\";\r\nimport SearchButton from \"../SearchButton/SearchButton\";\r\nimport SearchField from \"../SearchField/SearchField\";\r\n\r\nimport { SET_LAST_LOCATION } from \"../../actions\";\r\nimport { TFormEvent, TGetData } from \"../../types\";\r\nimport useSettings from \"../../hooks/useSettings\";\r\nimport useBreakpoints from \"../../hooks/useBreakpoints\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      position: \"absolute\",\r\n      top: \"50%\",\r\n      transform: \"translateY(-50%)\",\r\n      right: \"15px\",\r\n      zIndex: 1,\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        position: \"static\",\r\n        marginRight: theme.spacing(1.5),\r\n        transform: \"none\",\r\n        zIndex: \"auto\"\r\n      }\r\n    }\r\n  })\r\n);\r\n\r\nexport type SearchProps = {\r\n  lastLocation: string | null;\r\n};\r\n\r\ntype Props = {\r\n  getData: TGetData;\r\n} & SearchProps;\r\n\r\nconst Search = ({ lastLocation, getData }: Props) => {\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [searchIsShown, setSearchIsShown] = useState(false);\r\n  const showSearchBtn = useRef<HTMLButtonElement>(null);\r\n  const searchFieldRef = useRef<HTMLInputElement>(null);\r\n  const classes = useStyles();\r\n  const isUIMd = useBreakpoints(\"md\");\r\n  const [, dispatch] = useSettings();\r\n\r\n  const handleSubmit: TFormEvent = event => {\r\n    event.preventDefault();\r\n    const query = searchQuery.trim().toLowerCase();\r\n    if (query) {\r\n      setSearchQuery(\"\");\r\n      if (query === lastLocation) {\r\n        getData(query);\r\n      } else {\r\n        dispatch({ type: SET_LAST_LOCATION, lastLocation: query });\r\n      }\r\n    }\r\n    if (!isUIMd && showSearchBtn.current) {\r\n      setSearchIsShown(false);\r\n      showSearchBtn.current.focus();\r\n    }\r\n  };\r\n\r\n  const handleBlur = () => setSearchIsShown(false);\r\n\r\n  useEffect(() => {\r\n    if (!isUIMd && searchFieldRef.current) {\r\n      searchFieldRef.current.focus();\r\n    }\r\n  }, [searchIsShown, isUIMd]);\r\n\r\n  const composeSearch = (onBlur?: () => void) => (\r\n    <Form className={classes.root} onSubmit={handleSubmit}>\r\n      <SearchField\r\n        ref={searchFieldRef}\r\n        value={searchQuery}\r\n        onBlur={onBlur}\r\n        setSearchQuery={setSearchQuery}\r\n      />\r\n      {isUIMd && <SearchButton label=\"Search\" type=\"submit\" />}\r\n    </Form>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {isUIMd ? (\r\n        composeSearch()\r\n      ) : (\r\n        <>\r\n          {searchIsShown && composeSearch(handleBlur)}\r\n          <SearchButton\r\n            ref={showSearchBtn}\r\n            label=\"Show search\"\r\n            onClick={() => setSearchIsShown(true)}\r\n          />\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import { FETCH_INIT, FETCH_FAILURE, FETCH_SUCCESS } from \"../actions\";\r\n\r\nexport type State<T> = {\r\n  data: T | null;\r\n  isLoading: boolean;\r\n  isError: boolean;\r\n};\r\n\r\nexport type Action<T> =\r\n  | { type: FETCH_INIT }\r\n  | { type: FETCH_SUCCESS; data: T }\r\n  | { type: FETCH_FAILURE };\r\n\r\nfunction reduceFetch<T>(state: State<T>, action: Action<T>): State<T> {\r\n  switch (action.type) {\r\n    case FETCH_INIT: {\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        isError: false\r\n      };\r\n    }\r\n    case FETCH_SUCCESS: {\r\n      const { data } = action;\r\n      return {\r\n        ...state,\r\n        data,\r\n        isLoading: false\r\n      };\r\n    }\r\n    case FETCH_FAILURE: {\r\n      return {\r\n        ...state,\r\n        data: null,\r\n        isLoading: false,\r\n        isError: true\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n\r\nexport default reduceFetch;\r\n","import { useReducer, Reducer } from \"react\";\r\nimport reduceFetch, { State, Action } from \"../reducers/reduceFetch\";\r\n\r\nfunction useFetch<T>() {\r\n  return useReducer<Reducer<State<T>, Action<T>>>(reduceFetch, {\r\n    data: null,\r\n    isLoading: false,\r\n    isError: false\r\n  });\r\n}\r\n\r\nexport default useFetch;\r\n","import { useEffect, useCallback } from \"react\";\r\nimport { fetchForecast, checkIfExpired, removeExpiredWeather } from \"../utils\";\r\nimport { FETCH_INIT, FETCH_SUCCESS, FETCH_FAILURE } from \"../actions\";\r\nimport { IForecast } from \"../types\";\r\nimport useFetch from \"./useFetch\";\r\n\r\nconst useWeatherApi = (lastLocation?: string) => {\r\n  const [state, dispatch] = useFetch<IForecast>();\r\n\r\n  const getForecast = useCallback(\r\n    async (location: string) => {\r\n      dispatch({ type: FETCH_INIT });\r\n      removeExpiredWeather(location);\r\n      const storedForecast = localStorage.getItem(\r\n        `weather_forecast_${location}`\r\n      );\r\n      let forecast: IForecast | null;\r\n      if (storedForecast) {\r\n        const { requestTime } = JSON.parse(storedForecast);\r\n        if (checkIfExpired(requestTime)) {\r\n          forecast = await fetchForecast(location);\r\n        } else {\r\n          forecast = JSON.parse(storedForecast);\r\n        }\r\n      } else {\r\n        forecast = await fetchForecast(location);\r\n      }\r\n      if (forecast) {\r\n        dispatch({ type: FETCH_SUCCESS, data: forecast });\r\n      } else {\r\n        dispatch({ type: FETCH_FAILURE });\r\n      }\r\n    },\r\n    [dispatch]\r\n  );\r\n  useEffect(() => {\r\n    lastLocation && getForecast(lastLocation);\r\n  }, [dispatch, getForecast, lastLocation]);\r\n\r\n  return [state, getForecast] as const;\r\n};\r\n\r\nexport default useWeatherApi;\r\n","import React from \"react\";\r\nimport Welcome, { WelcomeProps } from \"../../containers/Welcome/Welcome\";\r\nimport Forecast from \"../../containers/Forecast/Forecast\";\r\nimport Search, { SearchProps } from \"../../components/Search/Search\";\r\nimport useWeatherApi from \"../../hooks/useWeatherApi\";\r\n\r\ntype Props = {} & WelcomeProps & SearchProps;\r\n\r\nconst FrontPage = ({ lastLocation, ...other }: Props) => {\r\n  const [forecast, getForecast] = useWeatherApi();\r\n\r\n  const search = <Search lastLocation={lastLocation} getData={getForecast} />;\r\n\r\n  // console.log(\"front\");\r\n  return lastLocation ? (\r\n    <Forecast\r\n      lastLocation={lastLocation}\r\n      forecast={forecast}\r\n      getForecast={getForecast}\r\n      search={search}\r\n    />\r\n  ) : (\r\n    <Welcome search={search} {...other} />\r\n  );\r\n};\r\n\r\nexport default FrontPage;\r\n","import React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      \"& > a:focus\": {\r\n        outline: \"none\"\r\n      },\r\n      \"& > button, & > a\": {\r\n        border: `0.25rem solid ${theme.palette.secondary.main}`,\r\n        transition: \"all 0.1s ease-in-out\",\r\n        \"&:focus\": {\r\n          boxShadow: `0 0 0 0.25rem ${theme.palette.text.primary}`\r\n        },\r\n        \"&:hover\": {\r\n          outline: `0.25rem solid ${theme.palette.grey[500]}`\r\n        }\r\n      }\r\n    },\r\n    link: {\r\n      display: \"flex\"\r\n    },\r\n    box: {\r\n      backgroundColor: theme.palette.secondary.main,\r\n      color: theme.palette.secondary.contrastText,\r\n      padding: theme.spacing(1),\r\n      minHeight: \"8.5rem\",\r\n      minWidth: \"13rem\"\r\n    }\r\n  })\r\n);\r\n\r\ntype Props = {\r\n  className?: string;\r\n  linkStyles?: string;\r\n  boxStyles?: string;\r\n  children: React.ReactNode;\r\n  tooltip: string;\r\n  to: string;\r\n  extra?: React.ReactNode;\r\n  onClick?: () => void;\r\n};\r\n\r\nconst LinkBox = ({\r\n  children,\r\n  tooltip,\r\n  linkStyles,\r\n  boxStyles,\r\n  to,\r\n  extra,\r\n  onClick\r\n}: Props) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.root}>\r\n      <Tooltip title={tooltip}>\r\n        <Link\r\n          to={to}\r\n          onClick={onClick}\r\n          className={clsx(classes.link, linkStyles)}\r\n        >\r\n          <div className={clsx(classes.box, boxStyles)}>{children}</div>\r\n        </Link>\r\n      </Tooltip>\r\n      {extra}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LinkBox;\r\n","import React from \"react\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\nimport Temperature from \"../../components/Temperature/Temperature\";\r\nimport DataLoader from \"../../components/DataLoader/DataLoader\";\r\nimport LinkBox from \"../LinkBox/LinkBox\";\r\nimport useWeatherApi from \"../../hooks/useWeatherApi\";\r\nimport { APP_STRUCTURE } from \"../../constants\";\r\nimport { SET_LAST_LOCATION } from \"../../actions\";\r\nimport { capitalizeFirstChar } from \"../../utils\";\r\nimport useSettings from \"../../hooks/useSettings\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    link: {\r\n      marginRight: \"0.25rem\"\r\n    },\r\n    group: {\r\n      display: \"flex\",\r\n      \"& > p:first-child\": {\r\n        fontSize: \"2.5rem\",\r\n        fontWeight: \"lighter\",\r\n        paddingRight: theme.spacing(2.5),\r\n        paddingBottom: theme.spacing(1),\r\n        \"& span\": {\r\n          fontSize: \"0.4em\",\r\n          lineHeight: \"2.6em\"\r\n        }\r\n      }\r\n    },\r\n    spinner: {\r\n      color: theme.palette.common.white,\r\n      fontSize: \"2.2rem\"\r\n    },\r\n    error: {\r\n      width: \"16rem\"\r\n    }\r\n  })\r\n);\r\n\r\nexport type WeatherBoxProps = {\r\n  location: string;\r\n};\r\n\r\ntype Props = {\r\n  children: React.ReactNode;\r\n} & WeatherBoxProps;\r\n\r\nconst WeatherBox = ({ location, children }: Props) => {\r\n  const classes = useStyles();\r\n  const [{ data, isLoading, isError }] = useWeatherApi(location);\r\n  const [, dispatch] = useSettings();\r\n\r\n  const setLastLocation = () => {\r\n    dispatch({ type: SET_LAST_LOCATION, lastLocation: location });\r\n  };\r\n\r\n  return (\r\n    <LinkBox\r\n      tooltip=\"Go to Forecast\"\r\n      to={`${APP_STRUCTURE.forecast}`}\r\n      onClick={setLastLocation}\r\n      linkStyles={classes.link}\r\n      extra={children}\r\n    >\r\n      <DataLoader\r\n        spinnerStyles={classes.spinner}\r\n        errorStyles={classes.error}\r\n        isLoading={isLoading}\r\n        isError={isError}\r\n        errorMessage={`We couldn't find ${capitalizeFirstChar(\r\n          location\r\n        )}. Please, check if the name is correct or try again later.`}\r\n        disableErrorBorder\r\n      >\r\n        {data && (\r\n          <>\r\n            <Typography variant=\"h3\">\r\n              {data.currentWeather.city}, {data.currentWeather.country}\r\n            </Typography>\r\n            <div className={classes.group}>\r\n              <Temperature temperature={data.currentWeather.temperature}>\r\n                C\r\n              </Temperature>\r\n            </div>\r\n            <p>{data.currentWeather.condition}</p>\r\n          </>\r\n        )}\r\n      </DataLoader>\r\n    </LinkBox>\r\n  );\r\n};\r\n\r\nexport default WeatherBox;\r\n","import React from \"react\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { Link } from \"react-router-dom\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport WeatherBox, { WeatherBoxProps } from \"../WeatherBox/WeatherBox\";\r\nimport { APP_STRUCTURE } from \"../../constants\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    link: {\r\n      fontSize: \"1.5rem\",\r\n      padding: \"0.5em\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      color: theme.palette.text.primary\r\n    }\r\n  })\r\n);\r\n\r\ntype Props = {} & WeatherBoxProps;\r\n\r\nconst LaunchLocation = ({ ...other }: Props) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <WeatherBox {...other}>\r\n      <Tooltip title=\"Change Launch Location\">\r\n        <Link to={`${APP_STRUCTURE.settings}`} className={classes.link}>\r\n          <EditIcon />\r\n        </Link>\r\n      </Tooltip>\r\n    </WeatherBox>\r\n  );\r\n};\r\n\r\nexport default LaunchLocation;\r\n","import React from \"react\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport LinkBox from \"../LinkBox/LinkBox\";\r\nimport { APP_STRUCTURE } from \"../../constants\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    box: {\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\"\r\n    },\r\n    icon: {\r\n      fontSize: \"6.5rem\"\r\n    }\r\n  })\r\n);\r\n\r\nconst AddLocationBox = () => {\r\n  const classes = useStyles();\r\n  return (\r\n    <LinkBox\r\n      tooltip=\"Add Location\"\r\n      to={APP_STRUCTURE.settings}\r\n      boxStyles={classes.box}\r\n    >\r\n      <AddIcon className={classes.icon} />\r\n    </LinkBox>\r\n  );\r\n};\r\n\r\nexport default AddLocationBox;\r\n","import React from \"react\";\r\n\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\n\r\nimport WeatherBox, { WeatherBoxProps } from \"../WeatherBox/WeatherBox\";\r\nimport { REMOVE_FROM_FAVORITES } from \"../../actions\";\r\nimport useSettings from \"../../hooks/useSettings\";\r\n\r\ntype Props = {} & WeatherBoxProps & typeof defaultProps;\r\n\r\nconst defaultProps = {\r\n  label: \"Remove from Favorites\"\r\n};\r\n\r\nconst FavoritePlace = ({ label, location }: Props) => {\r\n  const [, dispatch] = useSettings();\r\n\r\n  const handleClick = () => {\r\n    dispatch({ type: REMOVE_FROM_FAVORITES, location });\r\n  };\r\n\r\n  return (\r\n    <WeatherBox location={location}>\r\n      <Tooltip title={label}>\r\n        <IconButton aria-label={label} color=\"inherit\" onClick={handleClick}>\r\n          <ClearIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </WeatherBox>\r\n  );\r\n};\r\n\r\nFavoritePlace.defaultProps = defaultProps;\r\nexport default FavoritePlace;\r\n","import React from \"react\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\nimport AppHeader from \"../../components/AppHeader/AppHeader\";\r\nimport LaunchLocation from \"../../components/LaunchLocation/LaunchLocation\";\r\nimport AddLocationBox from \"../../components/AddLocationBox/AddLocationBox\";\r\nimport FavoriteLocation from \"../../components/FavoriteLocation/FavoriteLocation\";\r\nimport { APP_STRUCTURE } from \"../../constants\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      \"& section:not(:last-child)\": {\r\n        marginBottom: theme.spacing(2),\r\n        [theme.breakpoints.up(\"sm\")]: {\r\n          marginBottom: theme.spacing(4)\r\n        }\r\n      }\r\n    },\r\n    favorites: {\r\n      display: \"flex\",\r\n      flexWrap: \"wrap\",\r\n      \"& > div\": {\r\n        marginBottom: theme.spacing(2),\r\n        [theme.breakpoints.up(\"sm\")]: {\r\n          marginBottom: theme.spacing(3)\r\n        }\r\n      },\r\n      \"& > div:not(:last-child)\": {\r\n        marginRight: theme.spacing(2),\r\n        [theme.breakpoints.up(\"sm\")]: {\r\n          marginBottom: theme.spacing(3)\r\n        }\r\n      }\r\n    }\r\n  })\r\n);\r\n\r\ntype Props = {\r\n  launchLocation: string | null;\r\n  favorites: string[];\r\n};\r\n\r\nconst Favorites = ({ launchLocation, favorites }: Props) => {\r\n  const classes = useStyles();\r\n  // console.log(\"favorites\");\r\n  return (\r\n    <>\r\n      <AppHeader heading={APP_STRUCTURE.favorites} />\r\n      <div className={classes.root}>\r\n        <section>\r\n          <Typography variant=\"h2\">Launch Location</Typography>\r\n          {launchLocation ? (\r\n            <LaunchLocation location={launchLocation} />\r\n          ) : (\r\n            <AddLocationBox />\r\n          )}\r\n        </section>\r\n        {favorites.length > 0 && (\r\n          <section>\r\n            <Typography variant=\"h2\">Favorite Places</Typography>\r\n            <div className={classes.favorites}>\r\n              {favorites.map(location => (\r\n                <FavoriteLocation key={location} location={location} />\r\n              ))}\r\n            </div>\r\n          </section>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Favorites;\r\n","import React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\ntype Props = {\r\n  heading: string;\r\n  children: React.ReactNode;\r\n};\r\n\r\nconst Setting = ({ heading, children }: Props) => {\r\n  return (\r\n    <section>\r\n      <Typography variant=\"h3\">{heading}</Typography>\r\n      {children}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Setting;\r\n","import React from \"react\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport Form from \"../../components/Form/Form\";\r\nimport InputField from \"../../components/InputField/InputField\";\r\nimport InputButton from \"../../components/InputButton/InputButton\";\r\nimport Setting from \"../../components/Setting/Setting\";\r\n\r\nimport { TFormEvent } from \"../../types\";\r\nimport { FETCH_SUCCESS, SET_LAST_LOCATION } from \"../../actions\";\r\nimport { LOCAL_STORAGE } from \"../../constants\";\r\nimport { Action } from \"../../reducers/reduceFetch\";\r\nimport { capitalizeFirstChar } from \"../../utils\";\r\nimport useSettings from \"../../hooks/useSettings\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      maxWidth: \"16rem\"\r\n    }\r\n  })\r\n);\r\n\r\nexport type LaunchLocationSettingProps = {\r\n  dispatchFetch: React.Dispatch<Action<string>>;\r\n  launchLocation: string | null;\r\n};\r\n\r\ntype Props = {} & LaunchLocationSettingProps;\r\n\r\nconst LaunchLocationSetting = ({ launchLocation, dispatchFetch }: Props) => {\r\n  const classes = useStyles();\r\n  const [, dispatchSettings] = useSettings();\r\n\r\n  const handleSubmit: TFormEvent = event => {\r\n    event.preventDefault();\r\n    const form = event.currentTarget;\r\n    const launchLocation = form.launchLocation.value.trim().toLowerCase();\r\n    if (launchLocation) {\r\n      localStorage.setItem(LOCAL_STORAGE.launchLocation, launchLocation);\r\n      dispatchFetch({ type: FETCH_SUCCESS, data: launchLocation });\r\n      dispatchSettings({\r\n        type: SET_LAST_LOCATION,\r\n        lastLocation: launchLocation\r\n      });\r\n      event.currentTarget.reset();\r\n    }\r\n  };\r\n\r\n  let heading = `Launch Location`;\r\n  if (launchLocation) heading += `: ${capitalizeFirstChar(launchLocation)}`;\r\n  return (\r\n    <Setting heading={heading}>\r\n      <Form onSubmit={event => handleSubmit(event)} className={classes.root}>\r\n        <InputField name=\"launchLocation\" placeholder=\"New Launch Location\" />\r\n        <InputButton label=\"Submit\" type=\"submit\">\r\n          <EditIcon />\r\n        </InputButton>\r\n      </Form>\r\n    </Setting>\r\n  );\r\n};\r\n\r\nexport default LaunchLocationSetting;\r\n","import React from \"react\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport AppHeader from \"../../components/AppHeader/AppHeader\";\r\nimport LaunchLocationSetting, {\r\n  LaunchLocationSettingProps\r\n} from \"../../components/LaunchLocationSetting/LaunchLocationSetting\";\r\n// import ThemeSetting from \"../../components/ThemeSetting/ThemeSetting\";\r\nimport { APP_STRUCTURE } from \"../../constants\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: \"100%\",\r\n      \"& > section\": {\r\n        marginTop: theme.spacing(3)\r\n      }\r\n    }\r\n  })\r\n);\r\n\r\ntype Props = {} & LaunchLocationSettingProps;\r\n\r\nconst Settings = ({ ...other }: Props) => {\r\n  const classes = useStyles();\r\n  // console.log(\"settings\");\r\n  return (\r\n    <>\r\n      <AppHeader heading={APP_STRUCTURE.settings} />\r\n      <section className={classes.root}>\r\n        <Typography variant=\"h2\">Options</Typography>\r\n        <LaunchLocationSetting {...other} />\r\n        {/* <ThemeSetting /> */}\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n","import { useEffect, Dispatch, useCallback } from \"react\";\r\nimport {\r\n  FETCH_INIT,\r\n  FETCH_SUCCESS,\r\n  FETCH_FAILURE,\r\n  SET_LAST_LOCATION\r\n} from \"../actions\";\r\nimport useFetch from \"./useFetch\";\r\nimport { getLaunchLocation } from \"../utils\";\r\nimport { Action } from \"../reducers/reduceSettings\";\r\n\r\nconst useGeoLocationApi = (dispatchSettings: Dispatch<Action>) => {\r\n  const [state, dispatchFetch] = useFetch<string>();\r\n  // console.log(state)\r\n\r\n  const setLocations = useCallback(\r\n    (launchLocation: string) => {\r\n      dispatchSettings({\r\n        type: SET_LAST_LOCATION,\r\n        lastLocation: launchLocation\r\n      });\r\n      dispatchFetch({ type: FETCH_SUCCESS, data: launchLocation });\r\n    },\r\n    [dispatchFetch, dispatchSettings]\r\n  );\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      let launchLocation = localStorage.getItem(\"launch_location\");\r\n      if (launchLocation) {\r\n        setLocations(launchLocation);\r\n      } else {\r\n        dispatchFetch({ type: FETCH_INIT });\r\n        launchLocation = await getLaunchLocation();\r\n        if (launchLocation) {\r\n          setLocations(launchLocation);\r\n        } else {\r\n          dispatchFetch({ type: FETCH_FAILURE });\r\n        }\r\n      }\r\n    })();\r\n  }, [dispatchFetch, setLocations]);\r\n  return [state, dispatchFetch] as const;\r\n};\r\n\r\nexport default useGeoLocationApi;\r\n","import React from \"react\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\n\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\nimport FrontPage from \"../../containers/FrontPage/FrontPage\";\r\nimport Favorites from \"../../containers/Favorites/Favorites\";\r\nimport Settings from \"../../containers/Settings/Settings\";\r\n\r\nimport {\r\n  APP_STRUCTURE,\r\n  TOOLBAR_HEIGHT,\r\n  toolbarHeightMin\r\n} from \"../../constants\";\r\nimport useGeoLocationApi from \"../../hooks/useGeoLocationApi\";\r\nimport useSettings from \"../../hooks/useSettings\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"flex-start\",\r\n      flexGrow: 1,\r\n      marginTop: toolbarHeightMin,\r\n      padding: theme.spacing(2),\r\n      [theme.breakpoints.up(\"sm\")]: {\r\n        marginTop: TOOLBAR_HEIGHT,\r\n        padding: theme.spacing(4, 6)\r\n      }\r\n    }\r\n  })\r\n);\r\n\r\nconst AppMain = () => {\r\n  const classes = useStyles();\r\n  const [{ lastLocation, favorites }, dispatchSettings] = useSettings();\r\n  const [\r\n    { data: launchLocation, isLoading, isError },\r\n    dispatchFetch\r\n  ] = useGeoLocationApi(dispatchSettings);\r\n\r\n  // console.log('main', launchLocation, lastLocation);\r\n  return (\r\n    <main className={classes.root}>\r\n      <Switch>\r\n        <Route path={`/${APP_STRUCTURE.forecast}`}>\r\n          <FrontPage\r\n            lastLocation={lastLocation}\r\n            isLoading={isLoading}\r\n            isError={isError}\r\n          />\r\n        </Route>\r\n        <Route path={`/${APP_STRUCTURE.favorites}`}>\r\n          <Favorites launchLocation={launchLocation} favorites={favorites} />\r\n        </Route>\r\n        <Route path={`/${APP_STRUCTURE.settings}`}>\r\n          <Settings\r\n            launchLocation={launchLocation}\r\n            dispatchFetch={dispatchFetch}\r\n          />\r\n        </Route>\r\n        <Route path={`/`}>\r\n          <Redirect to={`/${APP_STRUCTURE.forecast}`} />\r\n        </Route>\r\n      </Switch>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default AppMain;\r\n","import React from \"react\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\nimport AppDrawer from \"../../components/AppDrawer/AppDrawer\";\r\nimport AppContent from \"../../components/AppContent/AppContent\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\"\r\n    }\r\n  })\r\n);\r\n\r\nconst Page = () => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppDrawer />\r\n      <AppContent />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Page;\r\n","import { createMuiTheme } from \"@material-ui/core/styles\";\r\nimport grey from \"@material-ui/core/colors/grey\";\r\nimport blue from \"@material-ui/core/colors/blue\";\r\nimport {\r\n  LIST_ITEM_GUTTER_SIZE,\r\n  TOOLBAR_HEIGHT,\r\n  SVG_ICON_FONT_SIZE,\r\n  listItemIconMinWidth,\r\n  SCALING_FACTOR\r\n} from \"./constants\";\r\n\r\nconst baseTheme = {\r\n  pallete: {\r\n    secondary: {\r\n      main: blue[700]\r\n    }\r\n  },\r\n  props: {\r\n    MuiAppBar: {\r\n      elevation: 0\r\n    },\r\n    MuiButtonBase: {\r\n      disableRipple: true\r\n    }\r\n  },\r\n  overrides: {\r\n    MuiDrawer: {\r\n      paperAnchorDockedLeft: {\r\n        borderRight: 0\r\n      }\r\n    },\r\n    MuiIconButton: {\r\n      root: {\r\n        borderRadius: \"0\",\r\n        fontSize: \"1rem\",\r\n        padding: \"0.5em\"\r\n      }\r\n    },\r\n    MuiListItem: {\r\n      gutters: {\r\n        paddingLeft: LIST_ITEM_GUTTER_SIZE,\r\n        paddingRight: LIST_ITEM_GUTTER_SIZE\r\n      }\r\n    },\r\n    MuiListItemIcon: {\r\n      root: {\r\n        minWidth: listItemIconMinWidth\r\n      }\r\n    },\r\n    MuiSvgIcon: {\r\n      root: {\r\n        fontSize: SVG_ICON_FONT_SIZE\r\n      }\r\n    },\r\n    MuiToolbar: {\r\n      dense: {\r\n        minHeight: TOOLBAR_HEIGHT\r\n      }\r\n    },\r\n    MuiTooltip: {\r\n      tooltip: {\r\n        fontSize: \"0.8rem\"\r\n      }\r\n    }\r\n  },\r\n  typography: {\r\n    h1: {\r\n      fontSize: \"1.5rem\"\r\n    },\r\n    h2: {\r\n      fontSize: \"1.5rem\"\r\n    },\r\n    h3: {\r\n      fontSize: \"1.3rem\",\r\n      fontWeight: 300\r\n    }\r\n  },\r\n  spacing: (factor: number) => `${SCALING_FACTOR * factor}rem`,\r\n  shape: {\r\n    borderRadius: 0\r\n  }\r\n};\r\n\r\nexport const lightTheme = createMuiTheme({\r\n  ...baseTheme,\r\n  palette: {\r\n    ...baseTheme.pallete,\r\n    action: {\r\n      active: \"rgba(0, 0, 0, 0.5)\",\r\n      hover: \"rgba(0, 0, 0, 0.13)\",\r\n      selected: \"rgba(0, 0, 0, 0.16)\"\r\n    },\r\n    background: {\r\n      default: grey[100]\r\n    },\r\n    primary: {\r\n      main: grey[50]\r\n    }\r\n  }\r\n});\r\n\r\nexport const darkTheme = createMuiTheme({\r\n  ...baseTheme,\r\n  palette: {\r\n    ...baseTheme.pallete,\r\n    action: {\r\n      active: \"rgba(255, 255, 255, 0.8)\",\r\n      hover: \"rgba(255, 255, 255, 0.3)\"\r\n    },\r\n    primary: {\r\n      main: grey[900]\r\n    },\r\n    type: \"dark\"\r\n  }\r\n});\r\n","import React, { useEffect } from \"react\";\r\n\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport {\r\n  ThemeProvider,\r\n  StylesProvider,\r\n  withStyles,\r\n  createStyles,\r\n  Theme\r\n} from \"@material-ui/core/styles\";\r\n\r\nimport Page from \"../../components/Page/Page\";\r\nimport useSettings from \"../../hooks/useSettings\";\r\nimport useTheme from \"../../hooks/useTheme\";\r\nimport { lightTheme, darkTheme } from \"../../theme\";\r\nimport { LOCAL_STORAGE } from \"../../constants\";\r\n\r\nconst GlobalCss = withStyles((theme: Theme) =>\r\n  createStyles({\r\n    \"@global\": {\r\n      \".MuiTypography-h2\": {\r\n        marginBottom: theme.spacing(2),\r\n        [theme.breakpoints.up(\"sm\")]: {\r\n          fontSize: \"2rem\"\r\n        }\r\n      },\r\n      \".MuiTypography-h3\": {\r\n        marginBottom: theme.spacing(1.5),\r\n        [theme.breakpoints.up(\"sm\")]: {\r\n          fontSize: \"1.5rem\"\r\n        }\r\n      },\r\n      \".MuiIconButton-root\": {\r\n        \"&:focus\": {\r\n          backgroundColor: theme.palette.action.selected\r\n        },\r\n        \"&:hover\": {\r\n          backgroundColor: theme.palette.action.hover\r\n        },\r\n        \"&:active\": {\r\n          backgroundColor: theme.palette.action.active,\r\n          color: theme.palette.primary.main\r\n        }\r\n      }\r\n    }\r\n  })\r\n)(() => null);\r\n\r\nconst App: React.FC = () => {\r\n  const [{ isThemeDark }] = useSettings();\r\n  const { adjustTheme, prefersDarkTheme } = useTheme();\r\n\r\n  useEffect(() => {\r\n    const storedTheme = localStorage.getItem(LOCAL_STORAGE.isThemeDark);\r\n    if (storedTheme) {\r\n      adjustTheme(JSON.parse(storedTheme));\r\n    } else {\r\n      localStorage.setItem(LOCAL_STORAGE.isThemeDark, String(prefersDarkTheme));\r\n      adjustTheme(prefersDarkTheme);\r\n    }\r\n  }, [adjustTheme, prefersDarkTheme]);\r\n\r\n  // console.log('app')\r\n  return (\r\n    <StylesProvider injectFirst>\r\n      <ThemeProvider theme={isThemeDark ? darkTheme : lightTheme}>\r\n        <CssBaseline />\r\n        <GlobalCss />\r\n        <Page />\r\n      </ThemeProvider>\r\n    </StylesProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport WindowWidthProvider from \"./providers/WindowWidthProvider\";\r\nimport SettingsProvider from \"./providers/SettingsProvider\";\r\nimport { HashRouter as Router } from \"react-router-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./containers/App/App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <WindowWidthProvider>\r\n      <SettingsProvider>\r\n        <App />\r\n      </SettingsProvider>\r\n    </WindowWidthProvider>\r\n  </Router>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}