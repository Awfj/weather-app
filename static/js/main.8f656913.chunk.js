(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{71:function(e,t,a){e.exports={root:"Spinner_root__30P1U",load6:"Spinner_load6__2K9aE",round:"Spinner_round__3ZW9V"}},83:function(e,t,a){e.exports=a(95)},88:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),i=a(28),l=(a(88),a(7)),s=a(136),u=a(137),m=a(138),p=a(3),f=a(63),b=a(141),d=a(4),g=a(139),h=a(130),O=a(65),j=a.n(O),E=a(49),v=a.n(E),y=a(66),w=a.n(y),S=a(131),x=a(142),k=a(127),L=a(128),C="forecast",D="favorites",T="settings",N={isDrawerOpen:"isDrawerOpen",isThemeDark:"isThemeDark",weatherForecast:"weather_forecast_",launchLocation:"launch_location"},R={favorites:["london","brest","minsk","paris","moscow","berlin"],isDrawerOpen:!1,isThemeDark:!1,lastLocation:null},I="calc(".concat("1rem"," * 2 + ").concat("1.5rem",")"),P="calc(".concat("4rem"," - ").concat(.5,"rem)"),z="calc(".concat("1.5rem"," * 2)"),W="calc(".concat("1rem"," - ").concat("0.375rem",")"),_=Object(f.a)((function(e){return Object(b.a)({root:{borderLeft:"".concat("0.375rem"," solid transparent")},active:{borderColor:e.palette.secondary.main}})})),F=function(e){var t=e.icon,a=e.primary,n=e.to,c=_(),o=r.a.useMemo((function(){return r.a.forwardRef((function(e,t){return r.a.createElement(i.c,Object.assign({to:"".concat("/weather-app","/").concat(n),ref:t,activeClassName:c.active},e))}))}),[n,c.active]);return r.a.createElement("li",null,r.a.createElement(x.a,{button:!0,component:o,className:c.root},t?r.a.createElement(k.a,null,t):null,r.a.createElement(L.a,{primary:a})))},B=a(20),M=a.n(B),A=a(31),H=function(e){return"".concat(e[0].toUpperCase()).concat(e.slice(1))},q=function(e){return(new Date).getTime()-e>1e4},G=function(){var e=Object(A.a)(M.a.mark((function e(){var t,a,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://get.geojs.io/v1/ip/geo.json");case 2:if((t=e.sent).ok){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,t.json();case 7:return a=e.sent,n=a.city.toLowerCase(),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(A.a)(M.a.mark((function e(t){var a,n,r,c,o;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"aeb3d68e813dcc0785d1936dc8ddd9f0",a="https://api.openweathermap.org/data/2.5/weather?q=".concat(t),n="".concat(a,"&appid=").concat("aeb3d68e813dcc0785d1936dc8ddd9f0","&units=metric"),e.next=5,fetch(n);case 5:if((r=e.sent).ok){e.next=8;break}return e.abrupt("return",null);case 8:return e.next=10,r.json();case 10:return c=e.sent,o={currentWeather:{city:c.name,condition:c.weather[0].main,country:c.sys.country,temperature:Math.round(c.main.temp),cloudiness:c.clouds.all,windSpeed:c.wind.speed,visibility:c.visibility/1e3,pressure:c.main.pressure,humidity:c.main.humidity},requestTime:(new Date).getTime()},Q(t,o),e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(A.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return localStorage.setItem("launch_location",t),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(e){for(var t in localStorage)if(t.includes("weather")&&!t.includes(e)){var a=JSON.parse(localStorage[t]).requestTime;q(a)&&localStorage.removeItem(t)}},Y=function(e,t,a,n){return e.split(t).slice(a,n).join(t)},Q=function(e,t){localStorage.setItem("weather_forecast_".concat(e),JSON.stringify(t))},K=Object(n.createContext)((function(){})),X=Object(n.createContext)(R),Z=Object(n.createContext)(0),$=Object(f.a)((function(e){var t;return Object(b.a)({root:(t={width:"8.5rem",flexShrink:0,whiteSpace:"nowrap"},Object(p.a)(t,e.breakpoints.up("sm"),{width:"13rem"}),Object(p.a)(t,"& .MuiListItemIcon-root",Object(p.a)({},e.breakpoints.down("xs"),{minWidth:"calc(".concat(z," - 0.5rem)")})),Object(p.a)(t,"& .MuiTypography-body1",Object(p.a)({},e.breakpoints.down("xs"),{fontSize:"0.9rem"})),t),isOpen:Object(p.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),width:"8.5rem"},e.breakpoints.up("sm"),{width:"13rem"}),isClosed:{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:I},list:Object(p.a)({display:"flex",flexDirection:"column",justifyContent:"space-between",height:"calc(100vh - ".concat(P,")")},e.breakpoints.up("sm"),{height:"calc(100vh - ".concat("4rem",")")}),paper:Object(p.a)({top:P},e.breakpoints.up("sm"),{top:"4rem"})})})),ee=function(){var e,t,a=$(),c=Object(n.useContext)(X).isDrawerOpen;return r.a.createElement(g.a,{variant:"permanent",open:c,className:Object(d.a)(a.root,(e={},Object(p.a)(e,a.isOpen,c),Object(p.a)(e,a.isClosed,!c),e)),classes:{paper:Object(d.a)(a.paper,(t={},Object(p.a)(t,a.isOpen,c),Object(p.a)(t,a.isClosed,!c),t))}},r.a.createElement(h.a,{disablePadding:!0,className:a.list},r.a.createElement("div",null,r.a.createElement(F,{icon:r.a.createElement(j.a,null),primary:H(C),to:C}),r.a.createElement(F,{icon:r.a.createElement(v.a,null),primary:H(D),to:D})),r.a.createElement("div",null,r.a.createElement(S.a,null),r.a.createElement(F,{icon:r.a.createElement(w.a,null),primary:H(T),to:T}))))},te=a(32),ae=a(2),ne=a(133),re=a(134),ce=a(52),oe=a(132),ie=a(67),le=a.n(ie),se="FETCH_INIT",ue="FETCH_SUCCESS",me="FETCH_FAILURE",pe="TOGGLE_DRAWER",fe="TOGGLE_THEME",be="ADD_TO_FAVORITES",de="REMOVE_FROM_FAVORITES",ge="SET_LAST_LOCATION",he=Object(f.a)((function(e){return Object(b.a)({root:Object(p.a)({backgroundColor:e.palette.background.paper,alignSelf:"stretch",display:"flex",marginRight:e.spacing(1),width:I},e.breakpoints.up("sm"),{marginRight:e.spacing(2)}),button:{width:"100%"}})})),Oe=function(e){var t=e.label,a=Object(ae.a)(e,["label"]),c=he(),o=Object(n.useContext)(K);return r.a.createElement("div",{className:c.root},r.a.createElement(oe.a,Object.assign({"aria-label":t,color:"inherit",classes:{root:c.button},onClick:function(){o({type:pe})}},a),r.a.createElement(le.a,null)))};Oe.defaultProps={label:"Toggle drawer"};var je=Oe,Ee=a(140),ve=a(70),ye=a.n(ve),we=a(69),Se=a.n(we),xe=function(e){var t=e.label,a=Object(n.useContext)(K),c=Object(n.useContext)(X).isThemeDark;return r.a.createElement(Ee.a,{title:t},r.a.createElement(oe.a,{"aria-label":t,color:"inherit",onClick:function(){return a({type:fe})}},c?r.a.createElement(Se.a,null):r.a.createElement(ye.a,null)))};xe.defaultProps={label:"Toggle theme"};var ke=xe,Le=Object(f.a)((function(e){return Object(b.a)({root:{display:"flex",justifyContent:"flex-end","& > *:not(:last-child)":{marginRight:e.spacing(.5)}}})})),Ce=function(e){var t=e.refresh,a=e.favor,n=Le();return r.a.createElement("div",{className:n.root},t,a,r.a.createElement(ke,null))},De=Object(f.a)((function(e){var t;return Object(b.a)({root:{backgroundColor:e.palette.background.paper,zIndex:e.zIndex.drawer+1,"& h1":Object(p.a)({},e.breakpoints.up("sm"),{fontSize:"2rem"}),"& .MuiIconButton-root":Object(p.a)({},e.breakpoints.up("sm"),{fontSize:"1.5rem"})},toolbar:(t={paddingRight:e.spacing(1)},Object(p.a)(t,e.breakpoints.down("xs"),{minHeight:P}),Object(p.a)(t,e.breakpoints.up("sm"),{paddingRight:e.spacing(2)}),t),title:{flexGrow:1}})})),Te=function(e){var t=e.heading,a=e.search,n=Object(ae.a)(e,["heading","search"]),c=De();return r.a.createElement(ne.a,{className:c.root},r.a.createElement(re.a,{disableGutters:!0,variant:"dense",classes:{root:c.toolbar}},r.a.createElement(je,null),r.a.createElement(ce.a,{variant:"h1",className:c.title},t&&H(t)),a,r.a.createElement(Ce,n)))},Ne=a(71),Re=a.n(Ne),Ie=Object(f.a)((function(e){return Object(b.a)({root:{color:e.palette.secondary.main,fontSize:"5.6rem",textIndent:"-9999em",overflow:"hidden",width:"1em",height:"1em",borderRadius:"50%",margin:"0.8em auto"}})})),Pe=function(e){var t=e.className,a=Ie();return r.a.createElement("div",{className:Object(d.a)(Re.a.root,a.root,t)},"Loading...")},ze=a(72),We=a.n(ze),_e=Object(f.a)((function(e){return Object(b.a)({root:{display:"flex",alignSelf:"center",width:"25rem","& > svg":{fontSize:"2rem",marginRight:e.spacing(1)}},errorBorder:{padding:"1em",boxShadow:"0 0 0 1px ".concat(e.palette.primary.contrastText)}})})),Fe=function(e){var t=e.children,a=e.errorStyles,n=e.disableErrorBorder,c=void 0!==n&&n,o=_e();return r.a.createElement("div",{className:Object(d.a)(o.root,a,!c&&o.errorBorder)},r.a.createElement(We.a,null),r.a.createElement("p",null,t))},Be=function(e){var t,a=e.children,n=e.spinnerStyles,c=e.isLoading,o=e.errorMessage,i=e.isError,l=Object(ae.a)(e,["children","spinnerStyles","isLoading","errorMessage","isError"]);return t=c?r.a.createElement(Pe,{className:n}):i?r.a.createElement(Fe,l,o):a,r.a.createElement(r.a.Fragment,null,t)},Me=function(e){var t=e.search,a=e.isLoading,n=e.isError;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Te,{heading:C}),r.a.createElement(Be,{isLoading:a,isError:n,errorMessage:"We couldn't find your city automatically,\n         you can still look for it manually."},r.a.createElement("div",null,r.a.createElement("p",null,"Welcome"),t)))},Ae=Object(f.a)((function(e){var t;return Object(b.a)({root:(t={fontWeight:"lighter",position:"relative",letterSpacing:"0px",paddingRight:e.spacing(4.5),fontSize:"3rem",lineHeight:"0.85em"},Object(p.a)(t,e.breakpoints.up("sm"),{fontSize:"5rem",paddingRight:e.spacing(7.5)}),Object(p.a)(t,"& span",{position:"absolute",top:"0",right:"0",fontSize:"0.7em",lineHeight:"0.9em"}),t)})})),He=function(e){var t=e.children,a=e.className,n=e.temperature,c=Ae();return r.a.createElement("p",{className:Object(d.a)(c.root,a)},n,r.a.createElement("span",null,"\xb0",t))},qe=Object(f.a)((function(e){return Object(b.a)({root:{margin:"0 auto",textAlign:"center",maxWidth:"28rem","& > div":{display:"flex",justifyContent:"center",marginBottom:e.spacing(.5)},"& > p:first-of-type":Object(p.a)({fontWeight:"lighter",fontSize:"1rem",marginBottom:e.spacing(.5)},e.breakpoints.up("sm"),{fontSize:"1.5rem"}),"& ul":{display:"flex",justifyContent:"center",flexWrap:"wrap","& li:not(:last-child)":{marginRight:"1em"}}},scales:{display:"flex",flexDirection:"column",marginLeft:"1em","& button":{border:"1px solid orange",fontSize:"1.2rem",padding:"0.3em"}}})})),Ge=function(e){var t=e.data,a=e.timer,n=qe();return r.a.createElement("section",{className:n.root},r.a.createElement(ce.a,{variant:"h2"},t.city,", ",t.country),r.a.createElement("div",null,r.a.createElement(He,{temperature:t.temperature},"C")),r.a.createElement("p",null,t.condition),a,r.a.createElement("ul",null,r.a.createElement("li",null,"Cloudiness: ",t.cloudiness,"%"),r.a.createElement("li",null,"Wind: ",t.windSpeed," m/s"),r.a.createElement("li",null,"Visibility: ",t.visibility," km"),r.a.createElement("li",null,"Pressure: ",t.pressure," mb"),r.a.createElement("li",null,"Humidity: ",t.humidity,"%")))},Je=a(73),Ue=a.n(Je),Ve=function(e){var t=e.lastLocation,a=Object(n.useState)(!1),c=Object(l.a)(a,2),o=c[0],i=c[1],s=Object(n.useContext)(K),u=Object(n.useContext)(X).favorites;Object(n.useEffect)((function(){i(u.includes(t))}),[u,t]);var m=o?"Remove from Favorites":"Add to Favorites";return r.a.createElement(Ee.a,{title:m},r.a.createElement(oe.a,{"aria-label":m,color:"inherit",onClick:o?function(){s({type:de,location:t})}:function(){s({type:be,location:t})}},o?r.a.createElement(Ue.a,null):r.a.createElement(v.a,null)))},Ye=function(e,t){var a=r.a.useState(e),n=Object(l.a)(a,2),c=n[0],o=n[1];return r.a.useEffect((function(){e>=1e3&&(console.log("test"),o(e),t(!0))}),[e,t]),r.a.useEffect((function(){var e=setTimeout((function(){c>=1e3?(o((function(e){return e-1e3})),console.log("count")):(t(!1),console.log("end")),console.log("timer")}),1e3);return function(){return clearTimeout(e)}}),[c,t]),console.log(e,c),c},Qe=Object(f.a)((function(e){return Object(b.a)({root:Object(p.a)({fontSize:"0.8rem",marginBottom:e.spacing(1.5),"&":{fontWeight:"500"}},e.breakpoints.up("sm"),{fontSize:"0.9rem"})})})),Ke=function(e){var t=e.expirationTimeframe,a=e.setRefreshIsDisabled,n=e.requestTime,c=Qe(),o=Ye(t,a);return r.a.createElement("p",{className:c.root},"Updated as of ",function(e){var t=(new Date).getFullYear(),a=new Date(e).getFullYear(),n=Y(new Date(e).toTimeString()," ",0,1).slice(0,5),r=new Date(e).toDateString();if(t===a){var c=(new Date).getDate(),o=new Date(e).getDate();return c===o?n:c-1===o?"Yesterday, ".concat(n):"".concat(Y(r," ",1,3),", ").concat(n)}return"".concat(Y(r," ",1),", ").concat(n)}(n),". Refresh"," ",o>=1e3?"will be available in: ".concat(function(e){var t=Math.floor(e/36e5%60),a=Math.floor(e/6e4%60);return t>0?"".concat(t,"h ").concat(a,"m"):"".concat(a+1,"m")}(o)):"is available!")},Xe=a(74),Ze=a.n(Xe),$e=function(e){var t=e.label,a=Object(ae.a)(e,["label"]);return r.a.createElement(Ee.a,{title:t},r.a.createElement("span",null,r.a.createElement(oe.a,Object.assign({"aria-label":t,color:"inherit"},a),r.a.createElement(Ze.a,null))))};$e.defaultProps={label:"Refresh"};var et=$e,tt=function(e,t){var a=Object(n.useState)(!0),c=Object(l.a)(a,2),o=c[0],i=c[1],s=r.a.createElement(et,{onClick:t,disabled:o});return e?[i,s]:[i]},at=function(e){var t,a=e.lastLocation,c=e.search,o=e.forecast,i=e.getForecast,s=o.data,u=o.isLoading,m=o.isError,p=tt(!!s,(function(){return i(a)})),f=Object(l.a)(p,2),b=f[0],d=f[1],g=s?r.a.createElement(Ve,{lastLocation:a}):void 0;return Object(n.useEffect)((function(){i(a)}),[i,a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Te,{heading:C,refresh:d,favor:g,search:c}),r.a.createElement(Be,{isLoading:u,isError:m,errorMessage:"We couldn't find ".concat(H(a),". Please, check if the name is correct or try again later.")},s&&r.a.createElement(Ge,{data:s.currentWeather,timer:r.a.createElement(Ke,{expirationTimeframe:(t=s.requestTime,1e4-((new Date).getTime()-t)),setRefreshIsDisabled:b,requestTime:s.requestTime})})))},nt=Object(f.a)((function(e){return Object(b.a)({root:{backgroundColor:e.palette.primary.light,display:"flex",boxShadow:"0 0 0 1px ".concat(e.palette.primary.contrastText)}})})),rt=function(e){var t=e.children,a=e.className,n=e.onSubmit,c=nt();return r.a.createElement("form",{className:Object(d.a)(c.root,a),onSubmit:n},t)},ct=a(1),ot=a(75),it=a.n(ot),lt=Object(f.a)((function(e){return Object(b.a)({root:{marginLeft:"3px"}})})),st=Object(n.forwardRef)((function(e,t){var a=e.children,n=e.label,c=Object(ae.a)(e,["children","label"]),o=lt();return r.a.createElement(Ee.a,{title:n},r.a.createElement(oe.a,Object.assign({"aria-label":n,color:"inherit",ref:t},c,{className:o.root}),a))})),ut=Object(n.forwardRef)((function(e,t){var a=Object(ct.a)({},e);return r.a.createElement(st,Object.assign({ref:t},a),r.a.createElement(it.a,null))})),mt=Object(f.a)((function(e){return Object(b.a)({root:{color:e.palette.primary.contrastText,backgroundColor:"transparent",border:"none",fontSize:"0.9rem",padding:"1em 0.8em",width:"100%","&:focus":{boxShadow:"0 0 0 .2rem ".concat(e.palette.action.active)}}})})),pt=Object(n.forwardRef)((function(e,t){var a=e.value,n=e.name,c=e.type,o=void 0===c?"text":c,i=e.onBlur,l=e.onChange,s=e.placeholder,u=mt();return r.a.createElement("input",{ref:t,value:a,name:n,onChange:l,placeholder:s,type:o,onBlur:i,className:u.root})})),ft=Object(n.forwardRef)((function(e,t){var a=e.setSearchQuery,n=Object(ae.a)(e,["setSearchQuery"]);return r.a.createElement(pt,Object.assign({ref:t,type:"search",placeholder:"Search",onChange:function(e){var t=e.currentTarget.value;a(t)}},n))})),bt=a(24),dt=Object(f.a)((function(e){return Object(b.a)({root:Object(p.a)({position:"absolute",top:"50%",transform:"translateY(-50%)",right:"15px",zIndex:1},e.breakpoints.up("md"),{position:"static",marginRight:e.spacing(1.5),transform:"none",zIndex:"auto"})})})),gt=function(e){var t=e.lastLocation,a=e.getData,c=Object(n.useState)(""),o=Object(l.a)(c,2),i=o[0],s=o[1],u=Object(n.useState)(!1),m=Object(l.a)(u,2),p=m[0],f=m[1],b=Object(n.useContext)(Z),d=Object(n.useRef)(null),g=Object(n.useRef)(null),h=Object(bt.a)(),O=dt(),j=Object(n.useContext)(K),E=h.breakpoints.values.md,v=function(e){e.preventDefault();var n=i.trim().toLowerCase();n&&(s(""),n===t?a(n):j({type:ge,lastLocation:n})),b<E&&d.current&&(f(!1),d.current.focus())};Object(n.useEffect)((function(){b<E&&g.current&&g.current.focus()}),[E,p,b]);var y=function(e){return r.a.createElement(rt,{className:O.root,onSubmit:v},r.a.createElement(ft,{ref:g,value:i,onBlur:e,setSearchQuery:s}),b>=E&&r.a.createElement(ut,{label:"Search",type:"submit"}))};return r.a.createElement(r.a.Fragment,null,b>=E?y():r.a.createElement(r.a.Fragment,null,p&&y((function(){return f(!1)})),r.a.createElement(ut,{ref:d,label:"Show search",onClick:function(){return f(!0)}})))};function ht(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ot(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ht(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function jt(e,t){switch(t.type){case se:return Ot({},e,{isLoading:!0,isError:!1});case ue:return Ot({},e,{data:t.data,isLoading:!1});case me:return Ot({},e,{data:null,isLoading:!1,isError:!0});default:return e}}var Et=function(){return Object(n.useReducer)(jt,{data:null,isLoading:!1,isError:!1})},vt=function(e){var t=Et(),a=Object(l.a)(t,2),r=a[0],c=a[1],o=Object(n.useCallback)(function(){var e=Object(A.a)(M.a.mark((function e(t){var a,n,r,o;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c({type:se}),V(t),!(a=localStorage.getItem("weather_forecast_".concat(t)))){e.next=14;break}if(r=JSON.parse(a),o=r.requestTime,!q(o)){e.next=11;break}return e.next=8,J(t);case 8:n=e.sent,e.next=12;break;case 11:n=JSON.parse(a);case 12:e.next=17;break;case 14:return e.next=16,J(t);case 16:n=e.sent;case 17:c(n?{type:ue,data:n}:{type:me});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c]);return Object(n.useEffect)((function(){e&&o(e)}),[c,o,e]),[r,o]},yt=function(e){var t=e.lastLocation,a=Object(ae.a)(e,["lastLocation"]),n=vt(),c=Object(l.a)(n,2),o=c[0],i=c[1],s=r.a.createElement(gt,{lastLocation:t,getData:i});return t?r.a.createElement(at,{lastLocation:t,forecast:o,getForecast:i,search:s}):r.a.createElement(Me,Object.assign({search:s},a))},wt=a(50),St=a.n(wt),xt=Object(f.a)((function(e){return Object(b.a)({root:{display:"flex","& > a:focus":{outline:"none"},"& > button, & > a":{border:"0.25rem solid ".concat(e.palette.secondary.main),transition:"all 0.1s ease-in-out","&:focus":{boxShadow:"0 0 0 0.25rem ".concat(e.palette.text.primary)},"&:hover":{outline:"0.25rem solid ".concat(e.palette.grey[500])}}},link:{display:"flex"},box:Object(p.a)({backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText,padding:e.spacing(1),minHeight:"6.5rem",minWidth:"8rem"},e.breakpoints.up("sm"),{minHeight:"8.5rem",minWidth:"13rem"})})})),kt=function(e){var t=e.children,a=e.tooltip,n=e.linkStyles,c=e.boxStyles,o=e.to,l=e.extra,s=e.onClick,u=xt();return r.a.createElement("div",{className:u.root},r.a.createElement(Ee.a,{title:a},r.a.createElement(i.b,{to:o,onClick:s,className:Object(d.a)(u.link,n)},r.a.createElement("div",{className:Object(d.a)(u.box,c)},t))),l)},Lt=Object(f.a)((function(e){return Object(b.a)({link:{marginRight:"0.25rem"},group:{display:"flex","& > p:first-child":{fontSize:"2.5rem",fontWeight:"lighter",paddingRight:e.spacing(2.5),paddingBottom:e.spacing(1),"& span":{fontSize:"0.4em",lineHeight:"2.6em"}}},spinner:{color:e.palette.common.white,fontSize:"2.2rem"},error:{width:"16rem"}})})),Ct=function(e){var t=e.location,a=e.children,c=Lt(),o=vt(t),i=Object(l.a)(o,1)[0],s=i.data,u=i.isLoading,m=i.isError,p=Object(n.useContext)(K);return r.a.createElement(kt,{tooltip:"Go to Forecast",to:"".concat(C),onClick:function(){p({type:ge,lastLocation:t})},linkStyles:c.link,extra:a},r.a.createElement(Be,{spinnerStyles:c.spinner,errorStyles:c.error,isLoading:u,isError:m,errorMessage:"We couldn't find ".concat(H(t),". Please, check if the name is correct or try again later."),disableErrorBorder:!0},s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{variant:"h3"},s.currentWeather.city,", ",s.currentWeather.country),r.a.createElement("div",{className:c.group},r.a.createElement(He,{temperature:s.currentWeather.temperature},"C")),r.a.createElement("p",null,s.currentWeather.condition))))},Dt=Object(f.a)((function(e){return Object(b.a)({link:{fontSize:"1.5rem",padding:"0.5em",display:"flex",alignItems:"center",color:e.palette.text.primary}})})),Tt=function(e){var t=Object(ct.a)({},e),a=Dt();return r.a.createElement(Ct,t,r.a.createElement(Ee.a,{title:"Change Launch Location"},r.a.createElement(i.b,{to:"".concat(T),className:a.link},r.a.createElement(St.a,null))))},Nt=a(76),Rt=a.n(Nt),It=Object(f.a)((function(e){return Object(b.a)({box:{display:"flex",justifyContent:"center",alignItems:"center"},icon:{fontSize:"6.5rem"}})})),Pt=function(){var e=It();return r.a.createElement(kt,{tooltip:"Add Location",to:T,boxStyles:e.box},r.a.createElement(Rt.a,{className:e.icon}))},zt=a(77),Wt=a.n(zt),_t=function(e){var t=e.label,a=e.location,c=Object(n.useContext)(K);return r.a.createElement(Ct,{location:a},r.a.createElement(Ee.a,{title:t},r.a.createElement(oe.a,{"aria-label":t,color:"inherit",onClick:function(){c({type:de,location:a})}},r.a.createElement(Wt.a,null))))};_t.defaultProps={label:"Remove from Favorites"};var Ft=_t,Bt=Object(f.a)((function(e){return Object(b.a)({root:{"& section:not(:last-child)":Object(p.a)({marginBottom:e.spacing(2)},e.breakpoints.up("sm"),{marginBottom:e.spacing(4)})},favorites:{display:"flex",flexWrap:"wrap","& > div":Object(p.a)({marginBottom:e.spacing(2)},e.breakpoints.up("sm"),{marginBottom:e.spacing(3)}),"& > div:not(:last-child)":Object(p.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{marginBottom:e.spacing(3)})}})})),Mt=function(e){var t=e.launchLocation,a=e.favorites,n=Bt();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Te,{heading:D}),r.a.createElement("div",{className:n.root},r.a.createElement("section",null,r.a.createElement(ce.a,{variant:"h2"},"Launch Location"),t?r.a.createElement(Tt,{location:t}):r.a.createElement(Pt,null)),a.length>0&&r.a.createElement("section",null,r.a.createElement(ce.a,{variant:"h2"},"Favorite Places"),r.a.createElement("div",{className:n.favorites},a.map((function(e){return r.a.createElement(Ft,{key:e,location:e})}))))))},At=function(e){var t=e.heading,a=e.children;return r.a.createElement("section",null,r.a.createElement(ce.a,{variant:"h3"},t),a)},Ht=Object(f.a)((function(e){return Object(b.a)({root:{maxWidth:"16rem"}})})),qt=function(e){var t=e.launchLocation,a=e.dispatchFetch,c=Ht(),o=Object(n.useContext)(K),i="Launch Location ".concat(t&&": ".concat(H(t)));return r.a.createElement(At,{heading:i},r.a.createElement(rt,{onSubmit:function(e){return function(e){e.preventDefault();var t=e.currentTarget.launchLocation.value.trim().toLowerCase();t&&(localStorage.setItem(N.launchLocation,t),a({type:ue,data:t}),o({type:ge,lastLocation:t}),e.currentTarget.reset())}(e)},className:c.root},r.a.createElement(pt,{name:"launchLocation",placeholder:"New Launch Location"}),r.a.createElement(st,{label:"Submit",type:"submit"},r.a.createElement(St.a,null))))},Gt=Object(f.a)((function(e){return Object(b.a)({root:{width:"100%","& > section":{marginTop:e.spacing(3)}}})})),Jt=function(e){var t=Object(ct.a)({},e),a=Gt();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Te,{heading:T}),r.a.createElement("section",{className:a.root},r.a.createElement(ce.a,{variant:"h2"},"Options"),r.a.createElement(qt,t)))},Ut=function(e){var t=Et(),a=Object(l.a)(t,2),r=a[0],c=a[1],o=Object(n.useCallback)((function(t){e({type:ge,lastLocation:t}),c({type:ue,data:t})}),[c,e]);return Object(n.useEffect)((function(){Object(A.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("launch_location"))){e.next=5;break}o(t),e.next=10;break;case 5:return c({type:se}),e.next=8,U();case 8:(t=e.sent)?o(t):c({type:me});case 10:case"end":return e.stop()}}),e)})))()}),[c,o]),[r,c]},Vt=Object(f.a)((function(e){return Object(b.a)({root:Object(p.a)({display:"flex",flexDirection:"column",alignItems:"flex-start",flexGrow:1,marginTop:P,padding:e.spacing(2)},e.breakpoints.up("sm"),{marginTop:"4rem",padding:e.spacing(4,6)})})})),Yt=function(){var e=Vt(),t=Object(n.useContext)(K),a=Object(n.useContext)(X),c=a.lastLocation,o=a.favorites,i=Ut(t),s=Object(l.a)(i,2),u=s[0],m=u.data,p=u.isLoading,f=u.isError,b=s[1];return r.a.createElement("main",{className:e.root},r.a.createElement(te.d,null,r.a.createElement(te.b,{path:"".concat("/weather-app","/").concat(C)},r.a.createElement(yt,{lastLocation:c,isLoading:p,isError:f})),r.a.createElement(te.b,{path:"".concat("/weather-app","/").concat(D)},r.a.createElement(Mt,{launchLocation:m,favorites:o})),r.a.createElement(te.b,{path:"".concat("/weather-app","/").concat(T)},r.a.createElement(Jt,{launchLocation:m,dispatchFetch:b})),r.a.createElement(te.b,{path:"".concat("/weather-app","/")},r.a.createElement(te.a,{to:"".concat("/weather-app","/").concat(C)}))))},Qt=Object(f.a)((function(e){return Object(b.a)({root:{display:"flex","& h2":Object(p.a)({marginBottom:e.spacing(2)},e.breakpoints.up("sm"),{fontSize:"2rem"}),"& h3":Object(p.a)({marginBottom:e.spacing(1.5)},e.breakpoints.up("sm"),{fontSize:"1.5rem"}),"& button":{"&:focus":{backgroundColor:e.palette.action.selected},"&:hover":{backgroundColor:e.palette.action.hover},"&:active":{backgroundColor:e.palette.action.active,color:e.palette.primary.main}}}})})),Kt=function(){var e=Qt();return r.a.createElement("div",{className:e.root},r.a.createElement(ee,null),r.a.createElement(Yt,null))},Xt=a(79),Zt=a(51),$t=a.n(Zt),ea=a(78);function ta(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function aa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ta(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var na={pallete:{secondary:{main:a.n(ea).a[700]}},props:{MuiAppBar:{elevation:0},MuiButtonBase:{disableRipple:!0}},overrides:{MuiDrawer:{paperAnchorDockedLeft:{borderRight:0}},MuiIconButton:{root:{borderRadius:"0",fontSize:"1rem",padding:"0.5em"}},MuiListItem:{gutters:{paddingLeft:W,paddingRight:"1rem"}},MuiListItemIcon:{root:{minWidth:z}},MuiSvgIcon:{root:{fontSize:"1.5rem"}},MuiToolbar:{dense:{minHeight:"4rem"}},MuiTooltip:{tooltip:{fontSize:"0.8rem"}}},typography:{h1:{fontSize:"1.5rem"},h2:{fontSize:"1.3rem"},h3:{fontSize:"1rem",fontWeight:300}},spacing:function(e){return"".concat(.5*e,"rem")},shape:{borderRadius:0}},ra=Object(Xt.a)(aa({},na,{palette:aa({},na.pallete,{action:{active:"rgba(0, 0, 0, 0.5)",hover:"rgba(0, 0, 0, 0.13)",selected:"rgba(0, 0, 0, 0.16)"},background:{default:$t.a[100]},primary:{main:$t.a[50]}})})),ca=Object(Xt.a)(aa({},na,{palette:aa({},na.pallete,{action:{active:"rgba(255, 255, 255, 0.8)",hover:"rgba(255, 255, 255, 0.3)"},primary:{main:$t.a[900]},type:"dark"})})),oa=a(34),ia=a(135),la=function(e,t){var a=Object(ia.a)("(prefers-color-scheme: dark)",{noSsr:!0});Object(n.useEffect)((function(){var n=localStorage.getItem(N.isThemeDark);n?t!==JSON.parse(n)&&e({type:fe}):(t!==a&&e({type:fe}),localStorage.setItem(N.isThemeDark,String(a)))}),[e,t,a])},sa=function(e,t){Object(n.useEffect)((function(){var a=localStorage.getItem(N.isDrawerOpen);a?JSON.parse(a)!==t&&e({type:pe}):localStorage.setItem(N.isDrawerOpen,String(t))}),[e,t])};function ua(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ma(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ua(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function pa(e,t){switch(t.type){case pe:var a=e.isDrawerOpen;return localStorage.setItem(N.isDrawerOpen,String(!a)),ma({},e,{isDrawerOpen:!a});case fe:var n=e.isThemeDark;return localStorage.setItem(N.isThemeDark,String(!n)),ma({},e,{isThemeDark:!n});case ge:return ma({},e,{lastLocation:t.lastLocation});case be:return ma({},e,{favorites:[].concat(Object(oa.a)(e.favorites),[t.location])});case de:return ma({},e,{favorites:Object(oa.a)(e.favorites.filter((function(e){return t.location!==e})))});default:return e}}var fa=function(){var e=Object(n.useReducer)(pa,R),t=Object(l.a)(e,2),a=t[0],r=t[1],c=a.isDrawerOpen,o=a.isThemeDark;return la(r,o),sa(r,c),[a,r]},ba=function(){var e=Object(n.useState)(window.innerWidth),t=Object(l.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=function(){return r(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),a},da=function(){var e=ba(),t=fa(),a=Object(l.a)(t,2),n=a[0],c=a[1];return r.a.createElement(m.b,{injectFirst:!0},r.a.createElement(s.a,{theme:n.isThemeDark?ca:ra},r.a.createElement(u.a,null),r.a.createElement(Z.Provider,{value:e},r.a.createElement(K.Provider,{value:c},r.a.createElement(X.Provider,{value:n},r.a.createElement(Kt,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,null,r.a.createElement(da,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[83,1,2]]]);
//# sourceMappingURL=main.8f656913.chunk.js.map