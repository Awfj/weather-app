(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{71:function(e,t,a){e.exports={root:"Spinner_root__30P1U",load6:"Spinner_load6__2K9aE",round:"Spinner_round__3ZW9V"}},83:function(e,t,a){e.exports=a(95)},88:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(10),o=a.n(c),i=a(28),l=(a(88),a(7)),s=a(136),u=a(137),m=a(138),p=a(3),f=a(63),b=a(141),d=a(4),g=a(139),h=a(130),O=a(65),j=a.n(O),E=a(49),v=a.n(E),y=a(66),w=a.n(y),S=a(131),x=a(142),k=a(127),L=a(128),C="forecast",D="favorites",T="settings",N={isDrawerOpen:"isDrawerOpen",isThemeDark:"isThemeDark",weatherForecast:"weather_forecast_",launchLocation:"launch_location"},R={favorites:[],isDrawerOpen:!1,isThemeDark:!1,lastLocation:null},I="calc(".concat("1rem"," * 2 + ").concat("1.5rem",")"),P="calc(".concat("4rem"," - ").concat(.5,"rem)"),z="calc(".concat("1.5rem"," * 2)"),F="calc(".concat("1rem"," - ").concat("0.375rem",")"),W=Object(f.a)((function(e){return Object(b.a)({root:{borderLeft:"".concat("0.375rem"," solid transparent")},active:{borderColor:e.palette.secondary.main}})})),_=function(e){var t=e.icon,a=e.primary,r=e.to,c=W(),o=n.a.useMemo((function(){return n.a.forwardRef((function(e,t){return n.a.createElement(i.c,Object.assign({to:"/".concat(r),ref:t,activeClassName:c.active},e))}))}),[r,c.active]);return n.a.createElement("li",null,n.a.createElement(x.a,{button:!0,component:o,className:c.root},t?n.a.createElement(k.a,null,t):null,n.a.createElement(L.a,{primary:a})))},B=a(20),M=a.n(B),A=a(31),H=function(e){return"".concat(e[0].toUpperCase()).concat(e.slice(1))},q=function(e){return(new Date).getTime()-e>72e5},G=function(){var e=Object(A.a)(M.a.mark((function e(){var t,a,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://get.geojs.io/v1/ip/geo.json");case 3:if((t=e.sent).ok){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,t.json();case 8:return a=e.sent,r=a.city.toLowerCase(),e.abrupt("return",r);case 13:return e.prev=13,e.t0=e.catch(0),console.error("There has been a problem with your fetch operation:",e.t0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(A.a)(M.a.mark((function e(t){var a,r,n,c,o;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"aeb3d68e813dcc0785d1936dc8ddd9f0",a="https://api.openweathermap.org/data/2.5/weather?q=".concat(t),r="".concat(a,"&appid=").concat("aeb3d68e813dcc0785d1936dc8ddd9f0","&units=metric"),e.next=6,fetch(r);case 6:if((n=e.sent).ok){e.next=9;break}return e.abrupt("return",null);case 9:return e.next=11,n.json();case 11:return c=e.sent,o={currentWeather:{city:c.name,condition:c.weather[0].main,country:c.sys.country,temperature:Math.round(c.main.temp),cloudiness:c.clouds.all,windSpeed:c.wind.speed,visibility:c.visibility/1e3,pressure:c.main.pressure,humidity:c.main.humidity},requestTime:(new Date).getTime()},Q(t,o),e.abrupt("return",o);case 17:return e.prev=17,e.t0=e.catch(0),console.error("There has been a problem with your fetch operation:",e.t0),e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(A.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return localStorage.setItem("launch_location",t),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(e){for(var t in localStorage)if(t.includes("weather")&&!t.includes(e)){var a=JSON.parse(localStorage[t]).requestTime;q(a)&&localStorage.removeItem(t)}},Y=function(e,t,a,r){return e.split(t).slice(a,r).join(t)},Q=function(e,t){localStorage.setItem("weather_forecast_".concat(e),JSON.stringify(t))},K=Object(r.createContext)((function(){})),X=Object(r.createContext)(R),Z=Object(r.createContext)(0),$=Object(f.a)((function(e){var t;return Object(b.a)({root:(t={width:"8.5rem",flexShrink:0,whiteSpace:"nowrap"},Object(p.a)(t,e.breakpoints.up("sm"),{width:"13rem"}),Object(p.a)(t,"& .MuiListItemIcon-root",Object(p.a)({},e.breakpoints.down("xs"),{minWidth:"calc(".concat(z," - 0.5rem)")})),Object(p.a)(t,"& .MuiTypography-body1",Object(p.a)({},e.breakpoints.down("xs"),{fontSize:"0.9rem"})),t),isOpen:Object(p.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),width:"8.5rem"},e.breakpoints.up("sm"),{width:"13rem"}),isClosed:{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:I},list:Object(p.a)({display:"flex",flexDirection:"column",justifyContent:"space-between",height:"calc(100vh - ".concat(P,")")},e.breakpoints.up("sm"),{height:"calc(100vh - ".concat("4rem",")")}),paper:Object(p.a)({top:P},e.breakpoints.up("sm"),{top:"4rem"})})})),ee=function(){var e,t,a=$(),c=Object(r.useContext)(X).isDrawerOpen;return n.a.createElement(g.a,{variant:"permanent",open:c,className:Object(d.a)(a.root,(e={},Object(p.a)(e,a.isOpen,c),Object(p.a)(e,a.isClosed,!c),e)),classes:{paper:Object(d.a)(a.paper,(t={},Object(p.a)(t,a.isOpen,c),Object(p.a)(t,a.isClosed,!c),t))}},n.a.createElement(h.a,{disablePadding:!0,className:a.list},n.a.createElement("div",null,n.a.createElement(_,{icon:n.a.createElement(j.a,null),primary:H(C),to:C}),n.a.createElement(_,{icon:n.a.createElement(v.a,null),primary:H(D),to:D})),n.a.createElement("div",null,n.a.createElement(S.a,null),n.a.createElement(_,{icon:n.a.createElement(w.a,null),primary:H(T),to:T}))))},te=a(32),ae=a(2),re=a(133),ne=a(134),ce=a(52),oe=a(132),ie=a(67),le=a.n(ie),se="FETCH_INIT",ue="FETCH_SUCCESS",me="FETCH_FAILURE",pe="TOGGLE_DRAWER",fe="TOGGLE_THEME",be="ADD_TO_FAVORITES",de="REMOVE_FROM_FAVORITES",ge="SET_LAST_LOCATION",he=Object(f.a)((function(e){return Object(b.a)({root:Object(p.a)({backgroundColor:e.palette.background.paper,alignSelf:"stretch",display:"flex",marginRight:e.spacing(1),width:I},e.breakpoints.up("sm"),{marginRight:e.spacing(2)}),button:{width:"100%"}})})),Oe=function(e){var t=e.label,a=Object(ae.a)(e,["label"]),c=he(),o=Object(r.useContext)(K);return n.a.createElement("div",{className:c.root},n.a.createElement(oe.a,Object.assign({"aria-label":t,color:"inherit",classes:{root:c.button},onClick:function(){o({type:pe})}},a),n.a.createElement(le.a,null)))};Oe.defaultProps={label:"Toggle drawer"};var je=Oe,Ee=a(140),ve=a(70),ye=a.n(ve),we=a(69),Se=a.n(we),xe=function(e){var t=e.label,a=Object(r.useContext)(K),c=Object(r.useContext)(X).isThemeDark;return n.a.createElement(Ee.a,{title:t},n.a.createElement(oe.a,{"aria-label":t,color:"inherit",onClick:function(){return a({type:fe})}},c?n.a.createElement(Se.a,null):n.a.createElement(ye.a,null)))};xe.defaultProps={label:"Toggle theme"};var ke=xe,Le=Object(f.a)((function(e){return Object(b.a)({root:{display:"flex",justifyContent:"flex-end","& > *:not(:last-child)":{marginRight:e.spacing(.5)}}})})),Ce=function(e){var t=e.refresh,a=e.favor,r=Le();return n.a.createElement("div",{className:r.root},t,a,n.a.createElement(ke,null))},De=Object(f.a)((function(e){var t;return Object(b.a)({root:{backgroundColor:e.palette.background.paper,zIndex:e.zIndex.drawer+1,"& h1":Object(p.a)({},e.breakpoints.up("sm"),{fontSize:"2rem"}),"& .MuiIconButton-root":Object(p.a)({},e.breakpoints.up("sm"),{fontSize:"1.5rem"})},toolbar:(t={paddingRight:e.spacing(1)},Object(p.a)(t,e.breakpoints.down("xs"),{minHeight:P}),Object(p.a)(t,e.breakpoints.up("sm"),{paddingRight:e.spacing(2)}),t),title:{flexGrow:1}})})),Te=function(e){var t=e.heading,a=e.search,r=Object(ae.a)(e,["heading","search"]),c=De();return n.a.createElement(re.a,{className:c.root},n.a.createElement(ne.a,{disableGutters:!0,variant:"dense",classes:{root:c.toolbar}},n.a.createElement(je,null),n.a.createElement(ce.a,{variant:"h1",className:c.title},t&&H(t)),a,n.a.createElement(Ce,r)))},Ne=a(71),Re=a.n(Ne),Ie=Object(f.a)((function(e){return Object(b.a)({root:{color:e.palette.secondary.main,fontSize:"5.6rem",textIndent:"-9999em",overflow:"hidden",width:"1em",height:"1em",borderRadius:"50%",margin:"0.8em auto"}})})),Pe=function(e){var t=e.className,a=Ie();return n.a.createElement("div",{className:Object(d.a)(Re.a.root,a.root,t)},"Loading...")},ze=a(72),Fe=a.n(ze),We=Object(f.a)((function(e){return Object(b.a)({root:{display:"flex",alignSelf:"center",width:"25rem","& > svg":{fontSize:"2rem",marginRight:e.spacing(1)}},errorBorder:{padding:"1em",boxShadow:"0 0 0 1px ".concat(e.palette.primary.contrastText)}})})),_e=function(e){var t=e.children,a=e.errorStyles,r=e.disableErrorBorder,c=void 0!==r&&r,o=We();return n.a.createElement("div",{className:Object(d.a)(o.root,a,!c&&o.errorBorder)},n.a.createElement(Fe.a,null),n.a.createElement("p",null,t))},Be=function(e){var t,a=e.children,r=e.spinnerStyles,c=e.isLoading,o=e.errorMessage,i=e.isError,l=e.displayContent,s=void 0!==l&&l,u=Object(ae.a)(e,["children","spinnerStyles","isLoading","errorMessage","isError","displayContent"]);return t=c?n.a.createElement(Pe,{className:r}):s&&i?n.a.createElement(n.a.Fragment,null,n.a.createElement(_e,u,o),a):i?n.a.createElement(_e,u,o):a,n.a.createElement(n.a.Fragment,null,t)},Me=Object(f.a)((function(e){return Object(b.a)({root:{display:"flex",justifyContent:"center",width:"100%",marginTop:"1rem","& form":{marginRight:"0"}}})})),Ae=function(e){var t=e.search,a=e.isLoading,r=e.isError,c=Me();return n.a.createElement(n.a.Fragment,null,n.a.createElement(Te,{heading:C}),n.a.createElement(Be,{isLoading:a,isError:r,displayContent:!0,errorMessage:"We couldn't find your city automatically,\n         you can still look for it manually."},n.a.createElement("div",{className:c.root},t)))},He=Object(f.a)((function(e){var t;return Object(b.a)({root:(t={fontWeight:"lighter",position:"relative",letterSpacing:"0px",paddingRight:e.spacing(4.5),fontSize:"3rem",lineHeight:"0.85em"},Object(p.a)(t,e.breakpoints.up("sm"),{fontSize:"5rem",paddingRight:e.spacing(7.5)}),Object(p.a)(t,"& span",{position:"absolute",top:"0",right:"0",fontSize:"0.7em",lineHeight:"0.9em"}),t)})})),qe=function(e){var t=e.children,a=e.className,r=e.temperature,c=He();return n.a.createElement("p",{className:Object(d.a)(c.root,a)},r,n.a.createElement("span",null,"\xb0",t))},Ge=Object(f.a)((function(e){return Object(b.a)({root:{margin:"0 auto",textAlign:"center",maxWidth:"28rem","& > div":{display:"flex",justifyContent:"center",marginBottom:e.spacing(.5)},"& > p:first-of-type":Object(p.a)({fontWeight:"lighter",fontSize:"1rem",marginBottom:e.spacing(.5)},e.breakpoints.up("sm"),{fontSize:"1.5rem"}),"& ul":{display:"flex",justifyContent:"center",flexWrap:"wrap","& li:not(:last-child)":{marginRight:"1em"}}},scales:{display:"flex",flexDirection:"column",marginLeft:"1em","& button":{border:"1px solid orange",fontSize:"1.2rem",padding:"0.3em"}}})})),Je=function(e){var t=e.data,a=e.timer,r=Ge();return n.a.createElement("section",{className:r.root},n.a.createElement(ce.a,{variant:"h2"},t.city,", ",t.country),n.a.createElement("div",null,n.a.createElement(qe,{temperature:t.temperature},"C")),n.a.createElement("p",null,t.condition),a,n.a.createElement("ul",null,n.a.createElement("li",null,"Cloudiness: ",t.cloudiness,"%"),n.a.createElement("li",null,"Wind: ",t.windSpeed," m/s"),n.a.createElement("li",null,"Visibility: ",t.visibility," km"),n.a.createElement("li",null,"Pressure: ",t.pressure," mb"),n.a.createElement("li",null,"Humidity: ",t.humidity,"%")))},Ue=a(73),Ve=a.n(Ue),Ye=function(e){var t=e.lastLocation,a=Object(r.useState)(!1),c=Object(l.a)(a,2),o=c[0],i=c[1],s=Object(r.useContext)(K),u=Object(r.useContext)(X).favorites;Object(r.useEffect)((function(){i(u.includes(t))}),[u,t]);var m=o?"Remove from Favorites":"Add to Favorites";return n.a.createElement(Ee.a,{title:m},n.a.createElement(oe.a,{"aria-label":m,color:"inherit",onClick:o?function(){s({type:de,location:t})}:function(){s({type:be,location:t})}},o?n.a.createElement(Ve.a,null):n.a.createElement(v.a,null)))},Qe=function(e,t){var a=n.a.useState(e),r=Object(l.a)(a,2),c=r[0],o=r[1];return n.a.useEffect((function(){e>=1e3&&(o(e),t(!0))}),[e,t]),n.a.useEffect((function(){var e=setTimeout((function(){c>=1e3?o((function(e){return e-1e3})):t(!1)}),1e3);return function(){return clearTimeout(e)}}),[c,t]),c},Ke=Object(f.a)((function(e){return Object(b.a)({root:Object(p.a)({fontSize:"0.8rem",marginBottom:e.spacing(1.5),"&":{fontWeight:"500"}},e.breakpoints.up("sm"),{fontSize:"0.9rem"})})})),Xe=function(e){var t=e.expirationTimeframe,a=e.setRefreshIsDisabled,r=e.requestTime,c=Ke(),o=Qe(t,a);return n.a.createElement("p",{className:c.root},"Updated as of ",function(e){var t=(new Date).getFullYear(),a=new Date(e).getFullYear(),r=Y(new Date(e).toTimeString()," ",0,1).slice(0,5),n=new Date(e).toDateString();if(t===a){var c=(new Date).getDate(),o=new Date(e).getDate();return c===o?r:c-1===o?"Yesterday, ".concat(r):"".concat(Y(n," ",1,3),", ").concat(r)}return"".concat(Y(n," ",1),", ").concat(r)}(r),". Refresh"," ",o>=1e3?"will be available in: ".concat(function(e){e+=6e4;var t=Math.floor(e/36e5%60),a=Math.floor(e/6e4%60);return t>0?"".concat(t,"h ").concat(a,"m"):"".concat(a,"m")}(o)):"is available!")},Ze=a(74),$e=a.n(Ze),et=function(e){var t=e.label,a=Object(ae.a)(e,["label"]);return n.a.createElement(Ee.a,{title:t},n.a.createElement("span",null,n.a.createElement(oe.a,Object.assign({"aria-label":t,color:"inherit"},a),n.a.createElement($e.a,null))))};et.defaultProps={label:"Refresh"};var tt=et,at=function(e,t){var a=Object(r.useState)(!0),c=Object(l.a)(a,2),o=c[0],i=c[1],s=n.a.createElement(tt,{onClick:t,disabled:o});return e?[i,s]:[i]},rt=function(e){var t,a=e.lastLocation,c=e.search,o=e.forecast,i=e.getForecast,s=o.data,u=o.isLoading,m=o.isError,p=at(!!s,(function(){return i(a)})),f=Object(l.a)(p,2),b=f[0],d=f[1],g=s?n.a.createElement(Ye,{lastLocation:a}):void 0;return Object(r.useEffect)((function(){i(a)}),[i,a]),n.a.createElement(n.a.Fragment,null,n.a.createElement(Te,{heading:C,refresh:d,favor:g,search:c}),n.a.createElement(Be,{isLoading:u,isError:m,errorMessage:"We couldn't find ".concat(H(a),". Please, check if the name is correct or try again later.")},s&&n.a.createElement(Je,{data:s.currentWeather,timer:n.a.createElement(Xe,{expirationTimeframe:(t=s.requestTime,72e5-((new Date).getTime()-t)),setRefreshIsDisabled:b,requestTime:s.requestTime})})))},nt=Object(f.a)((function(e){return Object(b.a)({root:{backgroundColor:e.palette.primary.light,display:"flex",boxShadow:"0 0 0 1px ".concat(e.palette.primary.contrastText)}})})),ct=function(e){var t=e.children,a=e.className,r=e.onSubmit,c=nt();return n.a.createElement("form",{className:Object(d.a)(c.root,a),onSubmit:r},t)},ot=a(1),it=a(75),lt=a.n(it),st=Object(f.a)((function(e){return Object(b.a)({root:{marginLeft:"3px"}})})),ut=Object(r.forwardRef)((function(e,t){var a=e.children,r=e.label,c=Object(ae.a)(e,["children","label"]),o=st();return n.a.createElement(Ee.a,{title:r},n.a.createElement(oe.a,Object.assign({"aria-label":r,color:"inherit",ref:t},c,{className:o.root}),a))})),mt=Object(r.forwardRef)((function(e,t){var a=Object(ot.a)({},e);return n.a.createElement(ut,Object.assign({ref:t},a),n.a.createElement(lt.a,null))})),pt=Object(f.a)((function(e){return Object(b.a)({root:{color:e.palette.primary.contrastText,backgroundColor:"transparent",border:"none",fontSize:"0.9rem",padding:"1em 0.8em",width:"100%","&:focus":{boxShadow:"0 0 0 .2rem ".concat(e.palette.action.active)}}})})),ft=Object(r.forwardRef)((function(e,t){var a=e.value,r=e.name,c=e.type,o=void 0===c?"text":c,i=e.onBlur,l=e.onChange,s=e.placeholder,u=pt();return n.a.createElement("input",{ref:t,value:a,name:r,onChange:l,placeholder:s,type:o,onBlur:i,className:u.root})})),bt=Object(r.forwardRef)((function(e,t){var a=e.setSearchQuery,r=Object(ae.a)(e,["setSearchQuery"]);return n.a.createElement(ft,Object.assign({ref:t,type:"search",placeholder:"Search",onChange:function(e){var t=e.currentTarget.value;a(t)}},r))})),dt=a(24),gt=Object(f.a)((function(e){return Object(b.a)({root:Object(p.a)({position:"absolute",top:"50%",transform:"translateY(-50%)",right:"15px",zIndex:1},e.breakpoints.up("md"),{position:"static",marginRight:e.spacing(1.5),transform:"none",zIndex:"auto"})})})),ht=function(e){var t=e.lastLocation,a=e.getData,c=Object(r.useState)(""),o=Object(l.a)(c,2),i=o[0],s=o[1],u=Object(r.useState)(!1),m=Object(l.a)(u,2),p=m[0],f=m[1],b=Object(r.useContext)(Z),d=Object(r.useRef)(null),g=Object(r.useRef)(null),h=Object(dt.a)(),O=gt(),j=Object(r.useContext)(K),E=h.breakpoints.values.md,v=function(e){e.preventDefault();var r=i.trim().toLowerCase();r&&(s(""),r===t?a(r):j({type:ge,lastLocation:r})),b<E&&d.current&&(f(!1),d.current.focus())};Object(r.useEffect)((function(){b<E&&g.current&&g.current.focus()}),[E,p,b]);var y=function(e){return n.a.createElement(ct,{className:O.root,onSubmit:v},n.a.createElement(bt,{ref:g,value:i,onBlur:e,setSearchQuery:s}),b>=E&&n.a.createElement(mt,{label:"Search",type:"submit"}))};return n.a.createElement(n.a.Fragment,null,b>=E?y():n.a.createElement(n.a.Fragment,null,p&&y((function(){return f(!1)})),n.a.createElement(mt,{ref:d,label:"Show search",onClick:function(){return f(!0)}})))};function Ot(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function jt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ot(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Et(e,t){switch(t.type){case se:return jt({},e,{isLoading:!0,isError:!1});case ue:return jt({},e,{data:t.data,isLoading:!1});case me:return jt({},e,{data:null,isLoading:!1,isError:!0});default:return e}}var vt=function(){return Object(r.useReducer)(Et,{data:null,isLoading:!1,isError:!1})},yt=function(e){var t=vt(),a=Object(l.a)(t,2),n=a[0],c=a[1],o=Object(r.useCallback)(function(){var e=Object(A.a)(M.a.mark((function e(t){var a,r,n,o;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c({type:se}),V(t),!(a=localStorage.getItem("weather_forecast_".concat(t)))){e.next=14;break}if(n=JSON.parse(a),o=n.requestTime,!q(o)){e.next=11;break}return e.next=8,J(t);case 8:r=e.sent,e.next=12;break;case 11:r=JSON.parse(a);case 12:e.next=17;break;case 14:return e.next=16,J(t);case 16:r=e.sent;case 17:c(r?{type:ue,data:r}:{type:me});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c]);return Object(r.useEffect)((function(){e&&o(e)}),[c,o,e]),[n,o]},wt=function(e){var t=e.lastLocation,a=Object(ae.a)(e,["lastLocation"]),r=yt(),c=Object(l.a)(r,2),o=c[0],i=c[1],s=n.a.createElement(ht,{lastLocation:t,getData:i});return t?n.a.createElement(rt,{lastLocation:t,forecast:o,getForecast:i,search:s}):n.a.createElement(Ae,Object.assign({search:s},a))},St=a(50),xt=a.n(St),kt=Object(f.a)((function(e){return Object(b.a)({root:{display:"flex","& > a:focus":{outline:"none"},"& > button, & > a":{border:"0.25rem solid ".concat(e.palette.secondary.main),transition:"all 0.1s ease-in-out","&:focus":{boxShadow:"0 0 0 0.25rem ".concat(e.palette.text.primary)},"&:hover":{outline:"0.25rem solid ".concat(e.palette.grey[500])}}},link:{display:"flex"},box:Object(p.a)({backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText,padding:e.spacing(1),minHeight:"6.5rem",minWidth:"8rem"},e.breakpoints.up("sm"),{minHeight:"8.5rem",minWidth:"13rem"})})})),Lt=function(e){var t=e.children,a=e.tooltip,r=e.linkStyles,c=e.boxStyles,o=e.to,l=e.extra,s=e.onClick,u=kt();return n.a.createElement("div",{className:u.root},n.a.createElement(Ee.a,{title:a},n.a.createElement(i.b,{to:o,onClick:s,className:Object(d.a)(u.link,r)},n.a.createElement("div",{className:Object(d.a)(u.box,c)},t))),l)},Ct=Object(f.a)((function(e){return Object(b.a)({link:{marginRight:"0.25rem"},group:{display:"flex","& > p:first-child":{fontSize:"2.5rem",fontWeight:"lighter",paddingRight:e.spacing(2.5),paddingBottom:e.spacing(1),"& span":{fontSize:"0.4em",lineHeight:"2.6em"}}},spinner:{color:e.palette.common.white,fontSize:"2.2rem"},error:{width:"16rem"}})})),Dt=function(e){var t=e.location,a=e.children,c=Ct(),o=yt(t),i=Object(l.a)(o,1)[0],s=i.data,u=i.isLoading,m=i.isError,p=Object(r.useContext)(K);return n.a.createElement(Lt,{tooltip:"Go to Forecast",to:"".concat(C),onClick:function(){p({type:ge,lastLocation:t})},linkStyles:c.link,extra:a},n.a.createElement(Be,{spinnerStyles:c.spinner,errorStyles:c.error,isLoading:u,isError:m,errorMessage:"We couldn't find ".concat(H(t),". Please, check if the name is correct or try again later."),disableErrorBorder:!0},s&&n.a.createElement(n.a.Fragment,null,n.a.createElement(ce.a,{variant:"h3"},s.currentWeather.city,", ",s.currentWeather.country),n.a.createElement("div",{className:c.group},n.a.createElement(qe,{temperature:s.currentWeather.temperature},"C")),n.a.createElement("p",null,s.currentWeather.condition))))},Tt=Object(f.a)((function(e){return Object(b.a)({link:{fontSize:"1.5rem",padding:"0.5em",display:"flex",alignItems:"center",color:e.palette.text.primary}})})),Nt=function(e){var t=Object(ot.a)({},e),a=Tt();return n.a.createElement(Dt,t,n.a.createElement(Ee.a,{title:"Change Launch Location"},n.a.createElement(i.b,{to:"".concat(T),className:a.link},n.a.createElement(xt.a,null))))},Rt=a(76),It=a.n(Rt),Pt=Object(f.a)((function(e){return Object(b.a)({box:{display:"flex",justifyContent:"center",alignItems:"center"},icon:{fontSize:"6.5rem"}})})),zt=function(){var e=Pt();return n.a.createElement(Lt,{tooltip:"Add Location",to:T,boxStyles:e.box},n.a.createElement(It.a,{className:e.icon}))},Ft=a(77),Wt=a.n(Ft),_t=function(e){var t=e.label,a=e.location,c=Object(r.useContext)(K);return n.a.createElement(Dt,{location:a},n.a.createElement(Ee.a,{title:t},n.a.createElement(oe.a,{"aria-label":t,color:"inherit",onClick:function(){c({type:de,location:a})}},n.a.createElement(Wt.a,null))))};_t.defaultProps={label:"Remove from Favorites"};var Bt=_t,Mt=Object(f.a)((function(e){return Object(b.a)({root:{"& section:not(:last-child)":Object(p.a)({marginBottom:e.spacing(2)},e.breakpoints.up("sm"),{marginBottom:e.spacing(4)})},favorites:{display:"flex",flexWrap:"wrap","& > div":Object(p.a)({marginBottom:e.spacing(2)},e.breakpoints.up("sm"),{marginBottom:e.spacing(3)}),"& > div:not(:last-child)":Object(p.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{marginBottom:e.spacing(3)})}})})),At=function(e){var t=e.launchLocation,a=e.favorites,r=Mt();return n.a.createElement(n.a.Fragment,null,n.a.createElement(Te,{heading:D}),n.a.createElement("div",{className:r.root},n.a.createElement("section",null,n.a.createElement(ce.a,{variant:"h2"},"Launch Location"),t?n.a.createElement(Nt,{location:t}):n.a.createElement(zt,null)),a.length>0&&n.a.createElement("section",null,n.a.createElement(ce.a,{variant:"h2"},"Favorite Places"),n.a.createElement("div",{className:r.favorites},a.map((function(e){return n.a.createElement(Bt,{key:e,location:e})}))))))},Ht=function(e){var t=e.heading,a=e.children;return n.a.createElement("section",null,n.a.createElement(ce.a,{variant:"h3"},t),a)},qt=Object(f.a)((function(e){return Object(b.a)({root:{maxWidth:"16rem"}})})),Gt=function(e){var t=e.launchLocation,a=e.dispatchFetch,c=qt(),o=Object(r.useContext)(K),i="Launch Location";return t&&(i+=": ".concat(H(t))),n.a.createElement(Ht,{heading:i},n.a.createElement(ct,{onSubmit:function(e){return function(e){e.preventDefault();var t=e.currentTarget.launchLocation.value.trim().toLowerCase();t&&(localStorage.setItem(N.launchLocation,t),a({type:ue,data:t}),o({type:ge,lastLocation:t}),e.currentTarget.reset())}(e)},className:c.root},n.a.createElement(ft,{name:"launchLocation",placeholder:"New Launch Location"}),n.a.createElement(ut,{label:"Submit",type:"submit"},n.a.createElement(xt.a,null))))},Jt=Object(f.a)((function(e){return Object(b.a)({root:{width:"100%","& > section":{marginTop:e.spacing(3)}}})})),Ut=function(e){var t=Object(ot.a)({},e),a=Jt();return n.a.createElement(n.a.Fragment,null,n.a.createElement(Te,{heading:T}),n.a.createElement("section",{className:a.root},n.a.createElement(ce.a,{variant:"h2"},"Options"),n.a.createElement(Gt,t)))},Vt=function(e){var t=vt(),a=Object(l.a)(t,2),n=a[0],c=a[1],o=Object(r.useCallback)((function(t){e({type:ge,lastLocation:t}),c({type:ue,data:t})}),[c,e]);return Object(r.useEffect)((function(){Object(A.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("launch_location"))){e.next=5;break}o(t),e.next=10;break;case 5:return c({type:se}),e.next=8,U();case 8:(t=e.sent)?o(t):c({type:me});case 10:case"end":return e.stop()}}),e)})))()}),[c,o]),[n,c]},Yt=Object(f.a)((function(e){return Object(b.a)({root:Object(p.a)({display:"flex",flexDirection:"column",alignItems:"flex-start",flexGrow:1,marginTop:P,padding:e.spacing(2)},e.breakpoints.up("sm"),{marginTop:"4rem",padding:e.spacing(4,6)})})})),Qt=function(){var e=Yt(),t=Object(r.useContext)(K),a=Object(r.useContext)(X),c=a.lastLocation,o=a.favorites,i=Vt(t),s=Object(l.a)(i,2),u=s[0],m=u.data,p=u.isLoading,f=u.isError,b=s[1];return n.a.createElement("main",{className:e.root},n.a.createElement(te.d,null,n.a.createElement(te.b,{path:"/".concat(C)},n.a.createElement(wt,{lastLocation:c,isLoading:p,isError:f})),n.a.createElement(te.b,{path:"/".concat(D)},n.a.createElement(At,{launchLocation:m,favorites:o})),n.a.createElement(te.b,{path:"/".concat(T)},n.a.createElement(Ut,{launchLocation:m,dispatchFetch:b})),n.a.createElement(te.b,{path:"/"},n.a.createElement(te.a,{to:"/".concat(C)}))))},Kt=Object(f.a)((function(e){return Object(b.a)({root:{display:"flex","& h2":Object(p.a)({marginBottom:e.spacing(2)},e.breakpoints.up("sm"),{fontSize:"2rem"}),"& h3":Object(p.a)({marginBottom:e.spacing(1.5)},e.breakpoints.up("sm"),{fontSize:"1.5rem"}),"& button":{"&:focus":{backgroundColor:e.palette.action.selected},"&:hover":{backgroundColor:e.palette.action.hover},"&:active":{backgroundColor:e.palette.action.active,color:e.palette.primary.main}}}})})),Xt=function(){var e=Kt();return n.a.createElement("div",{className:e.root},n.a.createElement(ee,null),n.a.createElement(Qt,null))},Zt=a(79),$t=a(51),ea=a.n($t),ta=a(78);function aa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ra(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):aa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var na={pallete:{secondary:{main:a.n(ta).a[700]}},props:{MuiAppBar:{elevation:0},MuiButtonBase:{disableRipple:!0}},overrides:{MuiDrawer:{paperAnchorDockedLeft:{borderRight:0}},MuiIconButton:{root:{borderRadius:"0",fontSize:"1rem",padding:"0.5em"}},MuiListItem:{gutters:{paddingLeft:F,paddingRight:"1rem"}},MuiListItemIcon:{root:{minWidth:z}},MuiSvgIcon:{root:{fontSize:"1.5rem"}},MuiToolbar:{dense:{minHeight:"4rem"}},MuiTooltip:{tooltip:{fontSize:"0.8rem"}}},typography:{h1:{fontSize:"1.5rem"},h2:{fontSize:"1.3rem"},h3:{fontSize:"1rem",fontWeight:300}},spacing:function(e){return"".concat(.5*e,"rem")},shape:{borderRadius:0}},ca=Object(Zt.a)(ra({},na,{palette:ra({},na.pallete,{action:{active:"rgba(0, 0, 0, 0.5)",hover:"rgba(0, 0, 0, 0.13)",selected:"rgba(0, 0, 0, 0.16)"},background:{default:ea.a[100]},primary:{main:ea.a[50]}})})),oa=Object(Zt.a)(ra({},na,{palette:ra({},na.pallete,{action:{active:"rgba(255, 255, 255, 0.8)",hover:"rgba(255, 255, 255, 0.3)"},primary:{main:ea.a[900]},type:"dark"})})),ia=a(34),la=a(135),sa=function(e,t){var a=Object(la.a)("(prefers-color-scheme: dark)",{noSsr:!0});Object(r.useEffect)((function(){var r=localStorage.getItem(N.isThemeDark);r?t!==JSON.parse(r)&&e({type:fe}):(t!==a&&e({type:fe}),localStorage.setItem(N.isThemeDark,String(a)))}),[e,t,a])},ua=function(e,t){Object(r.useEffect)((function(){var a=localStorage.getItem(N.isDrawerOpen);a?JSON.parse(a)!==t&&e({type:pe}):localStorage.setItem(N.isDrawerOpen,String(t))}),[e,t])};function ma(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function pa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ma(Object(a),!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ma(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function fa(e,t){switch(t.type){case pe:var a=e.isDrawerOpen;return localStorage.setItem(N.isDrawerOpen,String(!a)),pa({},e,{isDrawerOpen:!a});case fe:var r=e.isThemeDark;return localStorage.setItem(N.isThemeDark,String(!r)),pa({},e,{isThemeDark:!r});case ge:return pa({},e,{lastLocation:t.lastLocation});case be:return pa({},e,{favorites:[].concat(Object(ia.a)(e.favorites),[t.location])});case de:return pa({},e,{favorites:Object(ia.a)(e.favorites.filter((function(e){return t.location!==e})))});default:return e}}var ba=function(){var e=Object(r.useReducer)(fa,R),t=Object(l.a)(e,2),a=t[0],n=t[1],c=a.isDrawerOpen,o=a.isThemeDark;return sa(n,o),ua(n,c),[a,n]},da=function(){var e=Object(r.useState)(window.innerWidth),t=Object(l.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)((function(){var e=function(){return n(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),a},ga=function(){var e=da(),t=ba(),a=Object(l.a)(t,2),r=a[0],c=a[1];return n.a.createElement(m.b,{injectFirst:!0},n.a.createElement(s.a,{theme:r.isThemeDark?oa:ca},n.a.createElement(u.a,null),n.a.createElement(Z.Provider,{value:e},n.a.createElement(K.Provider,{value:c},n.a.createElement(X.Provider,{value:r},n.a.createElement(Xt,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(i.a,null,n.a.createElement(ga,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[83,1,2]]]);
//# sourceMappingURL=main.c580beab.chunk.js.map